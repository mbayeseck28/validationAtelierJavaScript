"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkvalidationatelierjs"] = self["webpackChunkvalidationatelierjs"] || []).push([["src_pagesJS_compta_js"],{

/***/ "./src/pagesJS/compta.js":
/*!*******************************!*\
  !*** ./src/pagesJS/compta.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

<<<<<<< HEAD
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"../../node_modules/firebase/app/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"../../node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"../../node_modules/firebase/auth/dist/esm/index.esm.js\");\n// Import the functions you need from the SDKs you need\n\n// Importation des  services\n\n\n\n\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBQ3SrfEimEPtzCFyxR0vWBK8BJ_K4Ma48\",\n  authDomain: \"mixte-feewi.firebaseapp.com\",\n  projectId: \"mixte-feewi\",\n  storageBucket: \"mixte-feewi.appspot.com\",\n  messagingSenderId: \"1083213454329\",\n  appId: \"1:1083213454329:web:df3deafe22a82ad34e3b28\"\n};\n\n// Initialize Firebase\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app); \n\n/******************  affiche photo profil Nav bar  **********************/ \n(0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.onAuthStateChanged)(auth, (user) => {\n  if (user) {\n      console.log(\"Utilisateur connecté\");\n      var userEmail = user.email;\n      const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, \"utilisateurs\");\n      (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(userRef, (snapshot) => {\n        let userRef = [];\n        snapshot.docs.forEach((doc) => {\n          userRef.push({...doc.data(), id: doc.id })\n        })\n        userRef.forEach((utilisateur => {\n          // Créez une référence au document de l'utilisateur dans Firestore\n          const userDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(db, \"utilisateurs\", utilisateur.id);\n          \n          if (utilisateur.email == userEmail) {   \n              const ProfilNav = document.querySelector('.ProfilNav');\n              const profilVoir = document.querySelector('.profilVoir');\n              const nomUser = document.querySelector('.nomUser');\n              const statusUser = document.querySelector('.statusUser') \n              ProfilNav.src = utilisateur.url;\n              profilVoir.src = utilisateur.url;\n              nomUser.innerText = utilisateur.prenom + ' ' + utilisateur.nom;\n              statusUser.innerText = utilisateur.status;\n            \n          }\n        }))\n      });\n\n\n  } else {\n      console.log(\"Aucun utilisateur connecté\");\n  }\n});\n\n// Récupérer la collection\nconst eleve = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'inscScolarite');\nconst certiesRef2 = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'mensualites');\nlet tabInsc = [];\nlet tabMens = [];\n\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(eleve, (snapshot) => {\n  let eleve = [];\n  snapshot.docs.forEach((doc) => {\n    eleve.push({ ...doc.data(), id: doc.id });\n    tabInsc.push({ ...doc.data(), id: doc.id });\n  });\n  eleve.sort((a, b) => b.dateDajout - a.dateDajout);\n\n  const list = document.querySelector('#list');\n  list.innerHTML = '';\n  console.log(eleve);\n  eleve.forEach((utili) => {\n    const list = document.querySelector('#list');\n    const tr = document.createElement('tr');\n\n    tr.innerHTML = `\n    <td class=\"text-start ps-2 py-2 border border-1\">${utili.prenom}</td>\n    <td class=\"text-start ps-2 py-2 border border-1\">${utili.nom}</td>\n    <td class=\"text-center py-2 border border-1\">${utili.montantInsc.toLocaleString(\n      'en-US'\n    )} Fcfa</td>`;\n    list.appendChild(tr);\n    let loaderContainer = document.querySelector('.chargement-page');\n    loaderContainer.style.display = 'none';\n  });\n});\n\n// Enregistrer des données dans le Firebase\n\nconst form = document.querySelector('.addToFirebase');\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n  //Ajouter un nouveau document avec un id généré\n  (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)(eleve, {\n    nom: form.nom.value,\n    prenom: form.prenom.value,\n    type: form.type.value,\n    classe: form.classeSelect.value,\n    montantInsc: parseInt(form.montantPaye.value),\n    dateDajout: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n  }).then(() => form.reset());\n});\n// Montant à inscrire\nlet selectElement = document.getElementById('classeSelect');\nselectElement.addEventListener('change', function () {\n  let selectedOption = selectElement.options[selectElement.selectedIndex];\n  let selectedValue = selectedOption.value;\n  console.log(selectedValue);\n\n  document.getElementById('montantPaye').value = montant(selectedValue);\n  console.log(document.getElementById('montantPaye').value);\n});\n\nfunction montant(classe) {\n  const montantMapping = {\n    '6ème': 25000,\n    '5ème': 25000,\n    '4ème': 30000,\n    '3ème': 35000,\n  };\n\n  return montantMapping[classe] || 0;\n}\n\n// Alert Après ajout\nconst alertPlaceholder = document.getElementById('liveAlertPlaceholder');\nconst appendAlert = (message, type) => {\n  const wrapper = document.createElement('div');\n  wrapper.innerHTML = [\n    `<div class=\"alert alert-${type} alert-dismissible\" role=\"alert\">`,\n    `   <div>${message}</div>`,\n    '   <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>',\n    '</div>',\n  ].join('');\n\n  alertPlaceholder.append(wrapper);\n};\n\nconst alertTrigger = document.getElementById('liveAlertBtn');\nif (alertTrigger) {\n  alertTrigger.addEventListener('click', () => {\n    appendAlert('Linscription est effectué avec succès', 'success');\n  });\n}\n// _________________________\n// Parti Mensualité\n\n// Mensualite\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(certiesRef2, (snapshot) => {\n  let certiesRef2 = [];\n  snapshot.docs.forEach((doc) => {\n    certiesRef2.push({ ...doc.data(), id: doc.id });\n    tabMens.push({ ...doc.data(), id: doc.id });\n  });\n  certiesRef2.sort((a, b) => b.dateDajout - a.dateDajout);\n  const list = document.querySelector('.mytbodyIns');\n  list.innerHTML = '';\n\n  // console.log(certiesRef2);\n  certiesRef2.forEach((utili) => {\n    const list = document.querySelector('.mytbodyIns');\n    const tr = document.createElement('tr');\n\n    tr.innerHTML = `\n    <td class=\"text-start ps-2 py-2 border border-1\">${\n      utili.prenom\n    }</td> <td class=\"text-start ps-2 py-2 border border-1\">${utili.nom}\n    </td> <td class=\"text-start ps-2 py-2 d-none d-sm-block border border-1\">${\n      utili.mois\n    }\n    </td> <td class=\"text-center py-2 border border-1\">${utili.montantpay.toLocaleString(\n      'en-US'\n    )} Fcfa</td>`;\n    list.appendChild(tr);\n    let loaderContainer = document.querySelector('.loader2');\n    loaderContainer.style.display = 'none';\n  });\n});\n\n// ajout d'une mensualite\n\nconst myForm = document.querySelector('.myForm');\nconst alertMens = document.querySelector('.alertMens');\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(eleve).then((snapshot) => {\n  let myTabeleve = [];\n  snapshot.docs.forEach((doc) => {\n    myTabeleve.push({ ...doc.data(), id: doc.id });\n  });\n\n  myForm.addEventListener('submit', async (e) => {\n    e.preventDefault();\n\n    let conditionRempli = false;\n\n    for (const utili of myTabeleve) {\n      // Ajouter un nouveau document avec un id généré\n      if (\n        utili.nom.includes(myForm.nom.value) &&\n        utili.prenom.includes(myForm.prenom.value) &&\n        utili.classe.includes(myForm.classeSelect2.value)\n      ) {\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)(certiesRef2, {\n          nom: myForm.nom.value,\n          prenom: myForm.prenom.value,\n          type: myForm.type.value,\n          classe: myForm.classeSelect2.value,\n          mois: myForm.mois.value,\n          montantpay: parseInt(myForm.montantAPaye.value),\n          dateDajout: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n        });\n\n        myForm.reset();\n        conditionRempli = true;\n        break;\n      }\n    }\n\n    if (conditionRempli) {\n      return;\n    } else {\n      alertMens.classList.remove('d-none');\n      alertMens.innerHTML =\n        'Elève inexiste ou ne fait pas parti de cette classe...';\n    }\n  });\n});\n\n// Montant à inscrire\nlet selectElement2 = document.getElementById('classeSelect2');\nselectElement2.addEventListener('change', function () {\n  let selectedOption = selectElement2.options[selectElement2.selectedIndex];\n  let selectedValue = selectedOption.value;\n  console.log(selectedValue);\n  document.getElementById('montantAPaye').value = montant2(selectedValue);\n});\n\nfunction montant2(classe) {\n  const montantMapping = {\n    '6ème': 10000,\n    '5ème': 15000,\n    '4ème': 20000,\n    '3ème': 25000,\n  };\n\n  return montantMapping[classe] || 0;\n}\n// Recherche\nconst rechercheInput = document.querySelector('#chercheInsc');\nconst rechercheInput2 = document.querySelector('#chercheMens');\nconst valeurInscInput1 = document.getElementById('classe');\nconst valeurInscInput2 = document.getElementById('nomPren');\nconst valeurMensInput1 = document.getElementById('classe2');\nconst valeurMensInput2 = document.getElementById('nomPren2');\n// // Fonction Rechercher\n\n// Pour inscription\nrechercheInput.addEventListener('input', (e) => {\n  let valeurInput1 = '';\n  let valeurInput2 = '';\n  let collectionFilter;\n  if (e.target === valeurInscInput1) {\n    valeurInput1 = e.target.value;\n    // console.log('Input 1:', valeurInput1);\n    collectionFilter = tabInsc.filter((element) =>\n      element.classe.toLowerCase().includes(valeurInput1.toLowerCase())\n    );\n  } else if (e.target === valeurInscInput2) {\n    valeurInput2 = e.target.value;\n    // console.log('Input 2:', valeurInput2);\n    collectionFilter = tabInsc.filter(\n      (element) =>\n        element.nom.toLowerCase().includes(valeurInput2.toLowerCase()) ||\n        element.prenom.toLowerCase().includes(valeurInput2.toLowerCase())\n    );\n  }\n\n  const list = document.querySelector('#list');\n  list.innerHTML = '';\n  if (collectionFilter.length) {\n    document.getElementById('erreurRefProff').innerHTML = '';\n    collectionFilter.forEach((utili) => {\n      const tr = document.createElement('tr');\n\n      tr.innerHTML = `\n    <td class=\"text-start ps-2 py-2 border border-1\">${utili.prenom}</td>\n    <td class=\"text-start ps-2 py-2 border border-1\">${utili.nom}</td>\n    <td class=\"text-center py-2 border border-1\">${utili.montantInsc.toLocaleString(\n      'en-US'\n    )} Fcfa</td>`;\n      list.appendChild(tr);\n      let loaderContainer = document.querySelector('.chargement-page');\n      loaderContainer.style.display = 'none';\n    });\n  } else {\n    document.getElementById('erreurRefProff').innerHTML =\n      'Aucun resultat trouver';\n  }\n});\nrechercheInput2.addEventListener('input', (e) => {\n  let valeurInput1 = '';\n  let valeurInput2 = '';\n  let collectionFilter;\n  if (e.target === valeurMensInput1) {\n    valeurInput1 = e.target.value;\n    // console.log('Input 1:', valeurInput1);\n    collectionFilter = tabMens.filter((element) =>\n      element.classe.toLowerCase().includes(valeurInput1.toLowerCase())\n    );\n  } else if (e.target === valeurMensInput2) {\n    valeurInput2 = e.target.value;\n    // console.log('Input 2:', valeurInput2);\n    collectionFilter = tabMens.filter(\n      (element) =>\n        element.nom.toLowerCase().includes(valeurInput2.toLowerCase()) ||\n        element.prenom.toLowerCase().includes(valeurInput2.toLowerCase())\n    );\n  }\n\n  const list = document.querySelector('#list3');\n  list.innerHTML = '';\n  if (collectionFilter.length) {\n    document.getElementById('erreurRefProff2').innerHTML = '';\n    collectionFilter.forEach((utili) => {\n      const tr = document.createElement('tr');\n      tr.innerHTML = `\n      <td class=\"text-start ps-2 py-2 border border-1\">${\n        utili.prenom\n      }</td> <td class=\"text-start ps-2 py-2 border border-1\">${utili.nom}\n      </td> <td class=\"text-start ps-2 py-2 d-none d-sm-block border border-1\">${\n        utili.mois\n      }\n      </td> <td class=\"text-center py-2 border border-1\">${utili.montantpay.toLocaleString(\n        'en-US'\n      )} Fcfa</td>`;\n      list.appendChild(tr);\n      let loaderContainer = document.querySelector('.chargement-page');\n      loaderContainer.style.display = 'none';\n    });\n  } else {\n    document.getElementById('erreurRefProff2').innerHTML =\n      'Aucun resultat trouver';\n  }\n});\n\n//___________________________________________________\n// //partie pape cheikh\n\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(eleve, (snapshot) => {\n  let eleve = [];\n  snapshot.docs.forEach((doc) => {\n    eleve.push({ ...doc.data(), id: doc.id });\n  });\n  const revenue = document.getElementById('revenue');\n  revenue.innerHTML = '';\n  eleve.forEach((utili) => {\n    let trbody = document.createElement('tr');\n    trbody.innerHTML = `\n      <td class=\"border border-1\">${utili.dateDajout\n        .toDate()\n        .toLocaleDateString()}</td>\n        <td class=\"text-center\">${utili.type}</td>\n        <td class=\"text-center border border-1\">${utili.prenom} ${\n      utili.nom\n    }</td>\n        <td class=\"border border-1\">${utili.montantInsc.toLocaleString(\n          'en-US'\n        )} Fcfa</td>\n        `;\n    revenue.appendChild(trbody);\n    let loaderContainer = document.querySelector('.loader3');\n    loaderContainer.style.display = 'none';\n  });\n});\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(certiesRef2, (snapshot) => {\n  let certiesRef2 = [];\n  snapshot.docs.forEach((doc) => {\n    certiesRef2.push({ ...doc.data(), id: doc.id });\n  });\n  const mens = document.getElementById('mens');\n  mens.innerHTML = '';\n  certiesRef2.sort((a, b) => b.dateDajout - a.dateDajout);\n\n  certiesRef2.forEach((utili) => {\n    let trbody = document.createElement('tr');\n    trbody.innerHTML = `\n      <td class=\"border border-1\">${utili.dateDajout\n        .toDate()\n        .toLocaleDateString()}</td>\n        <td class=\"text-center\">${utili.type}</td>\n        <td class=\"text-center border border-1\">${utili.prenom} ${\n      utili.nom\n    }</td>\n        <td class=\"border border-1\">${utili.montantpay}Fcfa</td>\n        `;\n    mens.appendChild(trbody);\n\n    // console.log(utili.type);\n  });\n});\n\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(eleve).then((snapshot) => {\n  let eleve = [];\n  snapshot.docs.forEach((doc) => {\n    eleve.push({ ...doc.data(), id: doc.id });\n  });\n  let totalInscription = 0;\n  eleve.forEach((utili) => {\n    totalInscription += parseInt(utili.montantInsc);\n  });\n  console.log(totalInscription);\n});\n\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(certiesRef2).then((snapshot) => {\n  let certiesRef2 = [];\n  snapshot.docs.forEach((doc) => {\n    certiesRef2.push({ ...doc.data(), id: doc.id });\n  });\n  let totalCertieRef2 = 0;\n  certiesRef2.forEach((utili) => {\n    totalCertieRef2 += parseInt(utili.montantpay);\n  });\n  console.log(totalCertieRef2);\n});\n\n// console.log(total);\n\nfunction totalGlobal(data) {\n  return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(data).then((snapshot) => {\n    let items = [];\n    snapshot.docs.forEach((doc) => {\n      items.push({ ...doc.data(), id: doc.id });\n    });\n    return items;\n  });\n}\n\nPromise.all([totalGlobal(eleve), totalGlobal(certiesRef2)])\n  .then(([eleveData, certiesRef2Data]) => {\n    let totalInscription = eleveData.reduce(\n      (total, utili) => total + parseInt(utili.montantInsc),\n      0\n    );\n    let totalCertieRef2 = certiesRef2Data.reduce(\n      (total, utili) => total + parseInt(utili.montantpay),\n      0\n    );\n\n    let totaleDuRevenu = totalInscription + totalCertieRef2;\n\n    //Calcule du revenue total\n    function CalculDeLaSommeTotale() {\n      const total = document.getElementById('total');\n      total.innerHTML = '';\n      let trfoot = document.createElement('tr');\n      trfoot.innerHTML = `\n    <td colspan=\"3\"><b>Total</b></td>\n    <td><b>${totaleDuRevenu.toLocaleString('en-US')} Fcfa </b></td>\n    `;\n      total.appendChild(trfoot);\n      const revTotal = document.getElementById('revenuTotal');\n      revTotal.innerHTML = `${totaleDuRevenu.toLocaleString(\n        'en-US'\n      )} <span class=\"fw-bold\">FCFA</span>`;\n      console.log('Total global:', totaleDuRevenu);\n    }\n    CalculDeLaSommeTotale();\n  })\n  .catch((error) => {\n    console.error(\"Une erreur s'est produite :\", error);\n  });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXNKUy9jb21wdGEuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmFsaWRhdGlvbmF0ZWxpZXJqcy8uL3NyYy9wYWdlc0pTL2NvbXB0YS5qcz8xMDE3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCB0aGUgZnVuY3Rpb25zIHlvdSBuZWVkIGZyb20gdGhlIFNES3MgeW91IG5lZWRcbmltcG9ydCB7IGluaXRpYWxpemVBcHAsIG9uTG9nIH0gZnJvbSAnZmlyZWJhc2UvYXBwJztcbi8vIEltcG9ydGF0aW9uIGRlcyAgc2VydmljZXNcbmltcG9ydCB7XG4gIGRvYyxcbiAgYWRkRG9jLFxuICBjb2xsZWN0aW9uLFxuICBnZXREb2NzLFxuICBnZXRGaXJlc3RvcmUsXG4gIG9uU25hcHNob3QsXG4gIHNlcnZlclRpbWVzdGFtcCxcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcblxuaW1wb3J0IHtcbiAgZ2V0QXV0aCxcbiAgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLFxuICBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCxcbiAgb25BdXRoU3RhdGVDaGFuZ2VkLFxuICB1cGRhdGVQcm9maWxlICxcbn0gZnJvbSBcImZpcmViYXNlL2F1dGhcIjtcblxuXG4vLyBZb3VyIHdlYiBhcHAncyBGaXJlYmFzZSBjb25maWd1cmF0aW9uXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcbiAgYXBpS2V5OiBcIkFJemFTeUJRM1NyZkVpbUVQdHpDRnl4UjB2V0JLOEJKX0s0TWE0OFwiLFxuICBhdXRoRG9tYWluOiBcIm1peHRlLWZlZXdpLmZpcmViYXNlYXBwLmNvbVwiLFxuICBwcm9qZWN0SWQ6IFwibWl4dGUtZmVld2lcIixcbiAgc3RvcmFnZUJ1Y2tldDogXCJtaXh0ZS1mZWV3aS5hcHBzcG90LmNvbVwiLFxuICBtZXNzYWdpbmdTZW5kZXJJZDogXCIxMDgzMjEzNDU0MzI5XCIsXG4gIGFwcElkOiBcIjE6MTA4MzIxMzQ1NDMyOTp3ZWI6ZGYzZGVhZmUyMmE4MmFkMzRlM2IyOFwiXG59O1xuXG4vLyBJbml0aWFsaXplIEZpcmViYXNlXG5jb25zdCBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcblxuY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoYXBwKTtcbmNvbnN0IGF1dGggPSBnZXRBdXRoKGFwcCk7IFxuXG4vKioqKioqKioqKioqKioqKioqICBhZmZpY2hlIHBob3RvIHByb2ZpbCBOYXYgYmFyICAqKioqKioqKioqKioqKioqKioqKioqLyBcbm9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAodXNlcikgPT4ge1xuICBpZiAodXNlcikge1xuICAgICAgY29uc29sZS5sb2coXCJVdGlsaXNhdGV1ciBjb25uZWN0w6lcIik7XG4gICAgICB2YXIgdXNlckVtYWlsID0gdXNlci5lbWFpbDtcbiAgICAgIGNvbnN0IHVzZXJSZWYgPSBjb2xsZWN0aW9uKGRiLCBcInV0aWxpc2F0ZXVyc1wiKTtcbiAgICAgIG9uU25hcHNob3QodXNlclJlZiwgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgIGxldCB1c2VyUmVmID0gW107XG4gICAgICAgIHNuYXBzaG90LmRvY3MuZm9yRWFjaCgoZG9jKSA9PiB7XG4gICAgICAgICAgdXNlclJlZi5wdXNoKHsuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkIH0pXG4gICAgICAgIH0pXG4gICAgICAgIHVzZXJSZWYuZm9yRWFjaCgodXRpbGlzYXRldXIgPT4ge1xuICAgICAgICAgIC8vIENyw6lleiB1bmUgcsOpZsOpcmVuY2UgYXUgZG9jdW1lbnQgZGUgbCd1dGlsaXNhdGV1ciBkYW5zIEZpcmVzdG9yZVxuICAgICAgICAgIGNvbnN0IHVzZXJEb2NSZWYgPSBkb2MoZGIsIFwidXRpbGlzYXRldXJzXCIsIHV0aWxpc2F0ZXVyLmlkKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodXRpbGlzYXRldXIuZW1haWwgPT0gdXNlckVtYWlsKSB7ICAgXG4gICAgICAgICAgICAgIGNvbnN0IFByb2ZpbE5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Qcm9maWxOYXYnKTtcbiAgICAgICAgICAgICAgY29uc3QgcHJvZmlsVm9pciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxWb2lyJyk7XG4gICAgICAgICAgICAgIGNvbnN0IG5vbVVzZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm9tVXNlcicpO1xuICAgICAgICAgICAgICBjb25zdCBzdGF0dXNVc2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXR1c1VzZXInKSBcbiAgICAgICAgICAgICAgUHJvZmlsTmF2LnNyYyA9IHV0aWxpc2F0ZXVyLnVybDtcbiAgICAgICAgICAgICAgcHJvZmlsVm9pci5zcmMgPSB1dGlsaXNhdGV1ci51cmw7XG4gICAgICAgICAgICAgIG5vbVVzZXIuaW5uZXJUZXh0ID0gdXRpbGlzYXRldXIucHJlbm9tICsgJyAnICsgdXRpbGlzYXRldXIubm9tO1xuICAgICAgICAgICAgICBzdGF0dXNVc2VyLmlubmVyVGV4dCA9IHV0aWxpc2F0ZXVyLnN0YXR1cztcbiAgICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICB9KTtcblxuXG4gIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkF1Y3VuIHV0aWxpc2F0ZXVyIGNvbm5lY3TDqVwiKTtcbiAgfVxufSk7XG5cbi8vIFLDqWN1cMOpcmVyIGxhIGNvbGxlY3Rpb25cbmNvbnN0IGVsZXZlID0gY29sbGVjdGlvbihkYiwgJ2luc2NTY29sYXJpdGUnKTtcbmNvbnN0IGNlcnRpZXNSZWYyID0gY29sbGVjdGlvbihkYiwgJ21lbnN1YWxpdGVzJyk7XG5sZXQgdGFiSW5zYyA9IFtdO1xubGV0IHRhYk1lbnMgPSBbXTtcblxub25TbmFwc2hvdChlbGV2ZSwgKHNuYXBzaG90KSA9PiB7XG4gIGxldCBlbGV2ZSA9IFtdO1xuICBzbmFwc2hvdC5kb2NzLmZvckVhY2goKGRvYykgPT4ge1xuICAgIGVsZXZlLnB1c2goeyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkIH0pO1xuICAgIHRhYkluc2MucHVzaCh7IC4uLmRvYy5kYXRhKCksIGlkOiBkb2MuaWQgfSk7XG4gIH0pO1xuICBlbGV2ZS5zb3J0KChhLCBiKSA9PiBiLmRhdGVEYWpvdXQgLSBhLmRhdGVEYWpvdXQpO1xuXG4gIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdCcpO1xuICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICBjb25zb2xlLmxvZyhlbGV2ZSk7XG4gIGVsZXZlLmZvckVhY2goKHV0aWxpKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaXN0Jyk7XG4gICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gICAgdHIuaW5uZXJIVE1MID0gYFxuICAgIDx0ZCBjbGFzcz1cInRleHQtc3RhcnQgcHMtMiBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkucHJlbm9tfTwvdGQ+XG4gICAgPHRkIGNsYXNzPVwidGV4dC1zdGFydCBwcy0yIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5ub219PC90ZD5cbiAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkubW9udGFudEluc2MudG9Mb2NhbGVTdHJpbmcoXG4gICAgICAnZW4tVVMnXG4gICAgKX0gRmNmYTwvdGQ+YDtcbiAgICBsaXN0LmFwcGVuZENoaWxkKHRyKTtcbiAgICBsZXQgbG9hZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJnZW1lbnQtcGFnZScpO1xuICAgIGxvYWRlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcbn0pO1xuXG4vLyBFbnJlZ2lzdHJlciBkZXMgZG9ubsOpZXMgZGFucyBsZSBGaXJlYmFzZVxuXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZFRvRmlyZWJhc2UnKTtcbmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAvL0Fqb3V0ZXIgdW4gbm91dmVhdSBkb2N1bWVudCBhdmVjIHVuIGlkIGfDqW7DqXLDqVxuICBhZGREb2MoZWxldmUsIHtcbiAgICBub206IGZvcm0ubm9tLnZhbHVlLFxuICAgIHByZW5vbTogZm9ybS5wcmVub20udmFsdWUsXG4gICAgdHlwZTogZm9ybS50eXBlLnZhbHVlLFxuICAgIGNsYXNzZTogZm9ybS5jbGFzc2VTZWxlY3QudmFsdWUsXG4gICAgbW9udGFudEluc2M6IHBhcnNlSW50KGZvcm0ubW9udGFudFBheWUudmFsdWUpLFxuICAgIGRhdGVEYWpvdXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICB9KS50aGVuKCgpID0+IGZvcm0ucmVzZXQoKSk7XG59KTtcbi8vIE1vbnRhbnQgw6AgaW5zY3JpcmVcbmxldCBzZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsYXNzZVNlbGVjdCcpO1xuc2VsZWN0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gIGxldCBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdEVsZW1lbnQub3B0aW9uc1tzZWxlY3RFbGVtZW50LnNlbGVjdGVkSW5kZXhdO1xuICBsZXQgc2VsZWN0ZWRWYWx1ZSA9IHNlbGVjdGVkT3B0aW9uLnZhbHVlO1xuICBjb25zb2xlLmxvZyhzZWxlY3RlZFZhbHVlKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9udGFudFBheWUnKS52YWx1ZSA9IG1vbnRhbnQoc2VsZWN0ZWRWYWx1ZSk7XG4gIGNvbnNvbGUubG9nKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb250YW50UGF5ZScpLnZhbHVlKTtcbn0pO1xuXG5mdW5jdGlvbiBtb250YW50KGNsYXNzZSkge1xuICBjb25zdCBtb250YW50TWFwcGluZyA9IHtcbiAgICAnNsOobWUnOiAyNTAwMCxcbiAgICAnNcOobWUnOiAyNTAwMCxcbiAgICAnNMOobWUnOiAzMDAwMCxcbiAgICAnM8OobWUnOiAzNTAwMCxcbiAgfTtcblxuICByZXR1cm4gbW9udGFudE1hcHBpbmdbY2xhc3NlXSB8fCAwO1xufVxuXG4vLyBBbGVydCBBcHLDqHMgYWpvdXRcbmNvbnN0IGFsZXJ0UGxhY2Vob2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZUFsZXJ0UGxhY2Vob2xkZXInKTtcbmNvbnN0IGFwcGVuZEFsZXJ0ID0gKG1lc3NhZ2UsIHR5cGUpID0+IHtcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB3cmFwcGVyLmlubmVySFRNTCA9IFtcbiAgICBgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LSR7dHlwZX0gYWxlcnQtZGlzbWlzc2libGVcIiByb2xlPVwiYWxlcnRcIj5gLFxuICAgIGAgICA8ZGl2PiR7bWVzc2FnZX08L2Rpdj5gLFxuICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bi1jbG9zZVwiIGRhdGEtYnMtZGlzbWlzcz1cImFsZXJ0XCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PC9idXR0b24+JyxcbiAgICAnPC9kaXY+JyxcbiAgXS5qb2luKCcnKTtcblxuICBhbGVydFBsYWNlaG9sZGVyLmFwcGVuZCh3cmFwcGVyKTtcbn07XG5cbmNvbnN0IGFsZXJ0VHJpZ2dlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlQWxlcnRCdG4nKTtcbmlmIChhbGVydFRyaWdnZXIpIHtcbiAgYWxlcnRUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGFwcGVuZEFsZXJ0KCdMaW5zY3JpcHRpb24gZXN0IGVmZmVjdHXDqSBhdmVjIHN1Y2PDqHMnLCAnc3VjY2VzcycpO1xuICB9KTtcbn1cbi8vIF9fX19fX19fX19fX19fX19fX19fX19fX19cbi8vIFBhcnRpIE1lbnN1YWxpdMOpXG5cbi8vIE1lbnN1YWxpdGVcbm9uU25hcHNob3QoY2VydGllc1JlZjIsIChzbmFwc2hvdCkgPT4ge1xuICBsZXQgY2VydGllc1JlZjIgPSBbXTtcbiAgc25hcHNob3QuZG9jcy5mb3JFYWNoKChkb2MpID0+IHtcbiAgICBjZXJ0aWVzUmVmMi5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcbiAgICB0YWJNZW5zLnB1c2goeyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkIH0pO1xuICB9KTtcbiAgY2VydGllc1JlZjIuc29ydCgoYSwgYikgPT4gYi5kYXRlRGFqb3V0IC0gYS5kYXRlRGFqb3V0KTtcbiAgY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teXRib2R5SW5zJyk7XG4gIGxpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgLy8gY29uc29sZS5sb2coY2VydGllc1JlZjIpO1xuICBjZXJ0aWVzUmVmMi5mb3JFYWNoKCh1dGlsaSkgPT4ge1xuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXl0Ym9keUlucycpO1xuICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcblxuICAgIHRyLmlubmVySFRNTCA9IGBcbiAgICA8dGQgY2xhc3M9XCJ0ZXh0LXN0YXJ0IHBzLTIgcHktMiBib3JkZXIgYm9yZGVyLTFcIj4ke1xuICAgICAgdXRpbGkucHJlbm9tXG4gICAgfTwvdGQ+IDx0ZCBjbGFzcz1cInRleHQtc3RhcnQgcHMtMiBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkubm9tfVxuICAgIDwvdGQ+IDx0ZCBjbGFzcz1cInRleHQtc3RhcnQgcHMtMiBweS0yIGQtbm9uZSBkLXNtLWJsb2NrIGJvcmRlciBib3JkZXItMVwiPiR7XG4gICAgICB1dGlsaS5tb2lzXG4gICAgfVxuICAgIDwvdGQ+IDx0ZCBjbGFzcz1cInRleHQtY2VudGVyIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5tb250YW50cGF5LnRvTG9jYWxlU3RyaW5nKFxuICAgICAgJ2VuLVVTJ1xuICAgICl9IEZjZmE8L3RkPmA7XG4gICAgbGlzdC5hcHBlbmRDaGlsZCh0cik7XG4gICAgbGV0IGxvYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXIyJyk7XG4gICAgbG9hZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH0pO1xufSk7XG5cbi8vIGFqb3V0IGQndW5lIG1lbnN1YWxpdGVcblxuY29uc3QgbXlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15Rm9ybScpO1xuY29uc3QgYWxlcnRNZW5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0TWVucycpO1xuZ2V0RG9jcyhlbGV2ZSkudGhlbigoc25hcHNob3QpID0+IHtcbiAgbGV0IG15VGFiZWxldmUgPSBbXTtcbiAgc25hcHNob3QuZG9jcy5mb3JFYWNoKChkb2MpID0+IHtcbiAgICBteVRhYmVsZXZlLnB1c2goeyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkIH0pO1xuICB9KTtcblxuICBteUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBsZXQgY29uZGl0aW9uUmVtcGxpID0gZmFsc2U7XG5cbiAgICBmb3IgKGNvbnN0IHV0aWxpIG9mIG15VGFiZWxldmUpIHtcbiAgICAgIC8vIEFqb3V0ZXIgdW4gbm91dmVhdSBkb2N1bWVudCBhdmVjIHVuIGlkIGfDqW7DqXLDqVxuICAgICAgaWYgKFxuICAgICAgICB1dGlsaS5ub20uaW5jbHVkZXMobXlGb3JtLm5vbS52YWx1ZSkgJiZcbiAgICAgICAgdXRpbGkucHJlbm9tLmluY2x1ZGVzKG15Rm9ybS5wcmVub20udmFsdWUpICYmXG4gICAgICAgIHV0aWxpLmNsYXNzZS5pbmNsdWRlcyhteUZvcm0uY2xhc3NlU2VsZWN0Mi52YWx1ZSlcbiAgICAgICkge1xuICAgICAgICBhd2FpdCBhZGREb2MoY2VydGllc1JlZjIsIHtcbiAgICAgICAgICBub206IG15Rm9ybS5ub20udmFsdWUsXG4gICAgICAgICAgcHJlbm9tOiBteUZvcm0ucHJlbm9tLnZhbHVlLFxuICAgICAgICAgIHR5cGU6IG15Rm9ybS50eXBlLnZhbHVlLFxuICAgICAgICAgIGNsYXNzZTogbXlGb3JtLmNsYXNzZVNlbGVjdDIudmFsdWUsXG4gICAgICAgICAgbW9pczogbXlGb3JtLm1vaXMudmFsdWUsXG4gICAgICAgICAgbW9udGFudHBheTogcGFyc2VJbnQobXlGb3JtLm1vbnRhbnRBUGF5ZS52YWx1ZSksXG4gICAgICAgICAgZGF0ZURham91dDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG15Rm9ybS5yZXNldCgpO1xuICAgICAgICBjb25kaXRpb25SZW1wbGkgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZGl0aW9uUmVtcGxpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0TWVucy5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgICAgIGFsZXJ0TWVucy5pbm5lckhUTUwgPVxuICAgICAgICAnRWzDqHZlIGluZXhpc3RlIG91IG5lIGZhaXQgcGFzIHBhcnRpIGRlIGNldHRlIGNsYXNzZS4uLic7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyBNb250YW50IMOgIGluc2NyaXJlXG5sZXQgc2VsZWN0RWxlbWVudDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xhc3NlU2VsZWN0MicpO1xuc2VsZWN0RWxlbWVudDIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICBsZXQgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3RFbGVtZW50Mi5vcHRpb25zW3NlbGVjdEVsZW1lbnQyLnNlbGVjdGVkSW5kZXhdO1xuICBsZXQgc2VsZWN0ZWRWYWx1ZSA9IHNlbGVjdGVkT3B0aW9uLnZhbHVlO1xuICBjb25zb2xlLmxvZyhzZWxlY3RlZFZhbHVlKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRhbnRBUGF5ZScpLnZhbHVlID0gbW9udGFudDIoc2VsZWN0ZWRWYWx1ZSk7XG59KTtcblxuZnVuY3Rpb24gbW9udGFudDIoY2xhc3NlKSB7XG4gIGNvbnN0IG1vbnRhbnRNYXBwaW5nID0ge1xuICAgICc2w6htZSc6IDEwMDAwLFxuICAgICc1w6htZSc6IDE1MDAwLFxuICAgICc0w6htZSc6IDIwMDAwLFxuICAgICczw6htZSc6IDI1MDAwLFxuICB9O1xuXG4gIHJldHVybiBtb250YW50TWFwcGluZ1tjbGFzc2VdIHx8IDA7XG59XG4vLyBSZWNoZXJjaGVcbmNvbnN0IHJlY2hlcmNoZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NoZXJjaGVJbnNjJyk7XG5jb25zdCByZWNoZXJjaGVJbnB1dDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hlcmNoZU1lbnMnKTtcbmNvbnN0IHZhbGV1ckluc2NJbnB1dDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xhc3NlJyk7XG5jb25zdCB2YWxldXJJbnNjSW5wdXQyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbVByZW4nKTtcbmNvbnN0IHZhbGV1ck1lbnNJbnB1dDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xhc3NlMicpO1xuY29uc3QgdmFsZXVyTWVuc0lucHV0MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub21QcmVuMicpO1xuLy8gLy8gRm9uY3Rpb24gUmVjaGVyY2hlclxuXG4vLyBQb3VyIGluc2NyaXB0aW9uXG5yZWNoZXJjaGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gIGxldCB2YWxldXJJbnB1dDEgPSAnJztcbiAgbGV0IHZhbGV1cklucHV0MiA9ICcnO1xuICBsZXQgY29sbGVjdGlvbkZpbHRlcjtcbiAgaWYgKGUudGFyZ2V0ID09PSB2YWxldXJJbnNjSW5wdXQxKSB7XG4gICAgdmFsZXVySW5wdXQxID0gZS50YXJnZXQudmFsdWU7XG4gICAgLy8gY29uc29sZS5sb2coJ0lucHV0IDE6JywgdmFsZXVySW5wdXQxKTtcbiAgICBjb2xsZWN0aW9uRmlsdGVyID0gdGFiSW5zYy5maWx0ZXIoKGVsZW1lbnQpID0+XG4gICAgICBlbGVtZW50LmNsYXNzZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbGV1cklucHV0MS50b0xvd2VyQ2FzZSgpKVxuICAgICk7XG4gIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IHZhbGV1ckluc2NJbnB1dDIpIHtcbiAgICB2YWxldXJJbnB1dDIgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAvLyBjb25zb2xlLmxvZygnSW5wdXQgMjonLCB2YWxldXJJbnB1dDIpO1xuICAgIGNvbGxlY3Rpb25GaWx0ZXIgPSB0YWJJbnNjLmZpbHRlcihcbiAgICAgIChlbGVtZW50KSA9PlxuICAgICAgICBlbGVtZW50Lm5vbS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbGV1cklucHV0Mi50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICBlbGVtZW50LnByZW5vbS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbGV1cklucHV0Mi50b0xvd2VyQ2FzZSgpKVxuICAgICk7XG4gIH1cblxuICBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpc3QnKTtcbiAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgaWYgKGNvbGxlY3Rpb25GaWx0ZXIubGVuZ3RoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VycmV1clJlZlByb2ZmJykuaW5uZXJIVE1MID0gJyc7XG4gICAgY29sbGVjdGlvbkZpbHRlci5mb3JFYWNoKCh1dGlsaSkgPT4ge1xuICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gICAgICB0ci5pbm5lckhUTUwgPSBgXG4gICAgPHRkIGNsYXNzPVwidGV4dC1zdGFydCBwcy0yIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5wcmVub219PC90ZD5cbiAgICA8dGQgY2xhc3M9XCJ0ZXh0LXN0YXJ0IHBzLTIgcHktMiBib3JkZXIgYm9yZGVyLTFcIj4ke3V0aWxpLm5vbX08L3RkPlxuICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5tb250YW50SW5zYy50b0xvY2FsZVN0cmluZyhcbiAgICAgICdlbi1VUydcbiAgICApfSBGY2ZhPC90ZD5gO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZCh0cik7XG4gICAgICBsZXQgbG9hZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJnZW1lbnQtcGFnZScpO1xuICAgICAgbG9hZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VycmV1clJlZlByb2ZmJykuaW5uZXJIVE1MID1cbiAgICAgICdBdWN1biByZXN1bHRhdCB0cm91dmVyJztcbiAgfVxufSk7XG5yZWNoZXJjaGVJbnB1dDIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuICBsZXQgdmFsZXVySW5wdXQxID0gJyc7XG4gIGxldCB2YWxldXJJbnB1dDIgPSAnJztcbiAgbGV0IGNvbGxlY3Rpb25GaWx0ZXI7XG4gIGlmIChlLnRhcmdldCA9PT0gdmFsZXVyTWVuc0lucHV0MSkge1xuICAgIHZhbGV1cklucHV0MSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIC8vIGNvbnNvbGUubG9nKCdJbnB1dCAxOicsIHZhbGV1cklucHV0MSk7XG4gICAgY29sbGVjdGlvbkZpbHRlciA9IHRhYk1lbnMuZmlsdGVyKChlbGVtZW50KSA9PlxuICAgICAgZWxlbWVudC5jbGFzc2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWxldXJJbnB1dDEudG9Mb3dlckNhc2UoKSlcbiAgICApO1xuICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSB2YWxldXJNZW5zSW5wdXQyKSB7XG4gICAgdmFsZXVySW5wdXQyID0gZS50YXJnZXQudmFsdWU7XG4gICAgLy8gY29uc29sZS5sb2coJ0lucHV0IDI6JywgdmFsZXVySW5wdXQyKTtcbiAgICBjb2xsZWN0aW9uRmlsdGVyID0gdGFiTWVucy5maWx0ZXIoXG4gICAgICAoZWxlbWVudCkgPT5cbiAgICAgICAgZWxlbWVudC5ub20udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWxldXJJbnB1dDIudG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgZWxlbWVudC5wcmVub20udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWxldXJJbnB1dDIudG9Mb3dlckNhc2UoKSlcbiAgICApO1xuICB9XG5cbiAgY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaXN0MycpO1xuICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICBpZiAoY29sbGVjdGlvbkZpbHRlci5sZW5ndGgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyZXVyUmVmUHJvZmYyJykuaW5uZXJIVE1MID0gJyc7XG4gICAgY29sbGVjdGlvbkZpbHRlci5mb3JFYWNoKCh1dGlsaSkgPT4ge1xuICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgdHIuaW5uZXJIVE1MID0gYFxuICAgICAgPHRkIGNsYXNzPVwidGV4dC1zdGFydCBwcy0yIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHtcbiAgICAgICAgdXRpbGkucHJlbm9tXG4gICAgICB9PC90ZD4gPHRkIGNsYXNzPVwidGV4dC1zdGFydCBwcy0yIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5ub219XG4gICAgICA8L3RkPiA8dGQgY2xhc3M9XCJ0ZXh0LXN0YXJ0IHBzLTIgcHktMiBkLW5vbmUgZC1zbS1ibG9jayBib3JkZXIgYm9yZGVyLTFcIj4ke1xuICAgICAgICB1dGlsaS5tb2lzXG4gICAgICB9XG4gICAgICA8L3RkPiA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkubW9udGFudHBheS50b0xvY2FsZVN0cmluZyhcbiAgICAgICAgJ2VuLVVTJ1xuICAgICAgKX0gRmNmYTwvdGQ+YDtcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgbGV0IGxvYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyZ2VtZW50LXBhZ2UnKTtcbiAgICAgIGxvYWRlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJldXJSZWZQcm9mZjInKS5pbm5lckhUTUwgPVxuICAgICAgJ0F1Y3VuIHJlc3VsdGF0IHRyb3V2ZXInO1xuICB9XG59KTtcblxuLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbi8vIC8vcGFydGllIHBhcGUgY2hlaWtoXG5cbm9uU25hcHNob3QoZWxldmUsIChzbmFwc2hvdCkgPT4ge1xuICBsZXQgZWxldmUgPSBbXTtcbiAgc25hcHNob3QuZG9jcy5mb3JFYWNoKChkb2MpID0+IHtcbiAgICBlbGV2ZS5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcbiAgfSk7XG4gIGNvbnN0IHJldmVudWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2ZW51ZScpO1xuICByZXZlbnVlLmlubmVySFRNTCA9ICcnO1xuICBlbGV2ZS5mb3JFYWNoKCh1dGlsaSkgPT4ge1xuICAgIGxldCB0cmJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHRyYm9keS5pbm5lckhUTUwgPSBgXG4gICAgICA8dGQgY2xhc3M9XCJib3JkZXIgYm9yZGVyLTFcIj4ke3V0aWxpLmRhdGVEYWpvdXRcbiAgICAgICAgLnRvRGF0ZSgpXG4gICAgICAgIC50b0xvY2FsZURhdGVTdHJpbmcoKX08L3RkPlxuICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPiR7dXRpbGkudHlwZX08L3RkPlxuICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBib3JkZXIgYm9yZGVyLTFcIj4ke3V0aWxpLnByZW5vbX0gJHtcbiAgICAgIHV0aWxpLm5vbVxuICAgIH08L3RkPlxuICAgICAgICA8dGQgY2xhc3M9XCJib3JkZXIgYm9yZGVyLTFcIj4ke3V0aWxpLm1vbnRhbnRJbnNjLnRvTG9jYWxlU3RyaW5nKFxuICAgICAgICAgICdlbi1VUydcbiAgICAgICAgKX0gRmNmYTwvdGQ+XG4gICAgICAgIGA7XG4gICAgcmV2ZW51ZS5hcHBlbmRDaGlsZCh0cmJvZHkpO1xuICAgIGxldCBsb2FkZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyMycpO1xuICAgIGxvYWRlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcbn0pO1xub25TbmFwc2hvdChjZXJ0aWVzUmVmMiwgKHNuYXBzaG90KSA9PiB7XG4gIGxldCBjZXJ0aWVzUmVmMiA9IFtdO1xuICBzbmFwc2hvdC5kb2NzLmZvckVhY2goKGRvYykgPT4ge1xuICAgIGNlcnRpZXNSZWYyLnB1c2goeyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkIH0pO1xuICB9KTtcbiAgY29uc3QgbWVucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW5zJyk7XG4gIG1lbnMuaW5uZXJIVE1MID0gJyc7XG4gIGNlcnRpZXNSZWYyLnNvcnQoKGEsIGIpID0+IGIuZGF0ZURham91dCAtIGEuZGF0ZURham91dCk7XG5cbiAgY2VydGllc1JlZjIuZm9yRWFjaCgodXRpbGkpID0+IHtcbiAgICBsZXQgdHJib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICB0cmJvZHkuaW5uZXJIVE1MID0gYFxuICAgICAgPHRkIGNsYXNzPVwiYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5kYXRlRGFqb3V0XG4gICAgICAgIC50b0RhdGUoKVxuICAgICAgICAudG9Mb2NhbGVEYXRlU3RyaW5nKCl9PC90ZD5cbiAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj4ke3V0aWxpLnR5cGV9PC90ZD5cbiAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5wcmVub219ICR7XG4gICAgICB1dGlsaS5ub21cbiAgICB9PC90ZD5cbiAgICAgICAgPHRkIGNsYXNzPVwiYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5tb250YW50cGF5fUZjZmE8L3RkPlxuICAgICAgICBgO1xuICAgIG1lbnMuYXBwZW5kQ2hpbGQodHJib2R5KTtcblxuICAgIC8vIGNvbnNvbGUubG9nKHV0aWxpLnR5cGUpO1xuICB9KTtcbn0pO1xuXG5nZXREb2NzKGVsZXZlKS50aGVuKChzbmFwc2hvdCkgPT4ge1xuICBsZXQgZWxldmUgPSBbXTtcbiAgc25hcHNob3QuZG9jcy5mb3JFYWNoKChkb2MpID0+IHtcbiAgICBlbGV2ZS5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcbiAgfSk7XG4gIGxldCB0b3RhbEluc2NyaXB0aW9uID0gMDtcbiAgZWxldmUuZm9yRWFjaCgodXRpbGkpID0+IHtcbiAgICB0b3RhbEluc2NyaXB0aW9uICs9IHBhcnNlSW50KHV0aWxpLm1vbnRhbnRJbnNjKTtcbiAgfSk7XG4gIGNvbnNvbGUubG9nKHRvdGFsSW5zY3JpcHRpb24pO1xufSk7XG5cbmdldERvY3MoY2VydGllc1JlZjIpLnRoZW4oKHNuYXBzaG90KSA9PiB7XG4gIGxldCBjZXJ0aWVzUmVmMiA9IFtdO1xuICBzbmFwc2hvdC5kb2NzLmZvckVhY2goKGRvYykgPT4ge1xuICAgIGNlcnRpZXNSZWYyLnB1c2goeyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkIH0pO1xuICB9KTtcbiAgbGV0IHRvdGFsQ2VydGllUmVmMiA9IDA7XG4gIGNlcnRpZXNSZWYyLmZvckVhY2goKHV0aWxpKSA9PiB7XG4gICAgdG90YWxDZXJ0aWVSZWYyICs9IHBhcnNlSW50KHV0aWxpLm1vbnRhbnRwYXkpO1xuICB9KTtcbiAgY29uc29sZS5sb2codG90YWxDZXJ0aWVSZWYyKTtcbn0pO1xuXG4vLyBjb25zb2xlLmxvZyh0b3RhbCk7XG5cbmZ1bmN0aW9uIHRvdGFsR2xvYmFsKGRhdGEpIHtcbiAgcmV0dXJuIGdldERvY3MoZGF0YSkudGhlbigoc25hcHNob3QpID0+IHtcbiAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICBzbmFwc2hvdC5kb2NzLmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgaXRlbXMucHVzaCh7IC4uLmRvYy5kYXRhKCksIGlkOiBkb2MuaWQgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9KTtcbn1cblxuUHJvbWlzZS5hbGwoW3RvdGFsR2xvYmFsKGVsZXZlKSwgdG90YWxHbG9iYWwoY2VydGllc1JlZjIpXSlcbiAgLnRoZW4oKFtlbGV2ZURhdGEsIGNlcnRpZXNSZWYyRGF0YV0pID0+IHtcbiAgICBsZXQgdG90YWxJbnNjcmlwdGlvbiA9IGVsZXZlRGF0YS5yZWR1Y2UoXG4gICAgICAodG90YWwsIHV0aWxpKSA9PiB0b3RhbCArIHBhcnNlSW50KHV0aWxpLm1vbnRhbnRJbnNjKSxcbiAgICAgIDBcbiAgICApO1xuICAgIGxldCB0b3RhbENlcnRpZVJlZjIgPSBjZXJ0aWVzUmVmMkRhdGEucmVkdWNlKFxuICAgICAgKHRvdGFsLCB1dGlsaSkgPT4gdG90YWwgKyBwYXJzZUludCh1dGlsaS5tb250YW50cGF5KSxcbiAgICAgIDBcbiAgICApO1xuXG4gICAgbGV0IHRvdGFsZUR1UmV2ZW51ID0gdG90YWxJbnNjcmlwdGlvbiArIHRvdGFsQ2VydGllUmVmMjtcblxuICAgIC8vQ2FsY3VsZSBkdSByZXZlbnVlIHRvdGFsXG4gICAgZnVuY3Rpb24gQ2FsY3VsRGVMYVNvbW1lVG90YWxlKCkge1xuICAgICAgY29uc3QgdG90YWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWwnKTtcbiAgICAgIHRvdGFsLmlubmVySFRNTCA9ICcnO1xuICAgICAgbGV0IHRyZm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICB0cmZvb3QuaW5uZXJIVE1MID0gYFxuICAgIDx0ZCBjb2xzcGFuPVwiM1wiPjxiPlRvdGFsPC9iPjwvdGQ+XG4gICAgPHRkPjxiPiR7dG90YWxlRHVSZXZlbnUudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJyl9IEZjZmEgPC9iPjwvdGQ+XG4gICAgYDtcbiAgICAgIHRvdGFsLmFwcGVuZENoaWxkKHRyZm9vdCk7XG4gICAgICBjb25zdCByZXZUb3RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXZlbnVUb3RhbCcpO1xuICAgICAgcmV2VG90YWwuaW5uZXJIVE1MID0gYCR7dG90YWxlRHVSZXZlbnUudG9Mb2NhbGVTdHJpbmcoXG4gICAgICAgICdlbi1VUydcbiAgICAgICl9IDxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPkZDRkE8L3NwYW4+YDtcbiAgICAgIGNvbnNvbGUubG9nKCdUb3RhbCBnbG9iYWw6JywgdG90YWxlRHVSZXZlbnUpO1xuICAgIH1cbiAgICBDYWxjdWxEZUxhU29tbWVUb3RhbGUoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmUgZXJyZXVyIHMnZXN0IHByb2R1aXRlIDpcIiwgZXJyb3IpO1xuICB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pagesJS/compta.js\n");
=======
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"./node_modules/firebase/app/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/esm/index.esm.js\");\n// Import the functions you need from the SDKs you need\r\n\r\n// Importation des  services\r\n\r\n\r\n\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyBQ3SrfEimEPtzCFyxR0vWBK8BJ_K4Ma48',\r\n  authDomain: 'mixte-feewi.firebaseapp.com',\r\n  projectId: 'mixte-feewi',\r\n  storageBucket: 'mixte-feewi.appspot.com',\r\n  messagingSenderId: '1083213454329',\r\n  appId: '1:1083213454329:web:df3deafe22a82ad34e3b28',\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\r\n\r\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\r\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\r\n\r\n/******************  affiche photo profil Nav bar  **********************/\r\n(0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.onAuthStateChanged)(auth, (user) => {\r\n  if (user) {\r\n    console.log('Utilisateur connecté');\r\n    var userEmail = user.email;\r\n    const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'utilisateurs');\r\n    (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(userRef, (snapshot) => {\r\n      let userRef = [];\r\n      snapshot.docs.forEach((doc) => {\r\n        userRef.push({ ...doc.data(), id: doc.id });\r\n      });\r\n      userRef.forEach((utilisateur) => {\r\n        // Créez une référence au document de l'utilisateur dans Firestore\r\n        const userDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(db, 'utilisateurs', utilisateur.id);\r\n\r\n        if (utilisateur.email == userEmail) {\r\n          const ProfilNav = document.querySelector('.ProfilNav');\r\n          const profilVoir = document.querySelector('.profilVoir');\r\n          const nomUser = document.querySelector('.nomUser');\r\n          const statusUser = document.querySelector('.statusUser');\r\n          ProfilNav.src = utilisateur.url;\r\n          profilVoir.src = utilisateur.url;\r\n          nomUser.innerText = utilisateur.prenom + ' ' + utilisateur.nom;\r\n          statusUser.innerText = utilisateur.status;\r\n        }\r\n      });\r\n    });\r\n  } else {\r\n    console.log('Aucun utilisateur connecté');\r\n  }\r\n});\r\n\r\n// Récupérer la collection\r\nconst eleve = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'inscScolarite');\r\nconst certiesRef2 = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'mensualites');\r\nlet tabInsc = [];\r\nlet tabMens = [];\r\n\r\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(eleve, (snapshot) => {\r\n  let eleve = [];\r\n  snapshot.docs.forEach((doc) => {\r\n    eleve.push({ ...doc.data(), id: doc.id });\r\n    tabInsc.push({ ...doc.data(), id: doc.id });\r\n  });\r\n  eleve.sort((a, b) => b.dateDajout - a.dateDajout);\r\n\r\n  const list = document.querySelector('#list');\r\n  list.innerHTML = '';\r\n  // console.log(eleve);\r\n  eleve.forEach((utili) => {\r\n    const list = document.querySelector('#list');\r\n    const tr = document.createElement('tr');\r\n\r\n    tr.innerHTML = `\r\n    <td class=\"text-start ps-2 py-2 border border-1\">${utili.prenom}</td>\r\n    <td class=\"text-start ps-2 py-2 border border-1\">${utili.nom}</td>\r\n    <td class=\"text-center py-2 border border-1\">${utili.montantInsc.toLocaleString(\r\n      'en-US'\r\n    )} Fcfa</td>`;\r\n    list.appendChild(tr);\r\n    let loaderContainer = document.querySelector('.chargement-page');\r\n    loaderContainer.style.display = 'none';\r\n  });\r\n});\r\n\r\n// Enregistrer des données dans le Firebase\r\n\r\nconst form = document.querySelector('.addToFirebase');\r\nform.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n  //Ajouter un nouveau document avec un id généré\r\n  (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)(eleve, {\r\n    nom: form.nom.value,\r\n    prenom: form.prenom.value,\r\n    type: form.type.value,\r\n    classe: form.classeSelect.value,\r\n    montantInsc: parseInt(form.montantPaye.value),\r\n    dateDajout: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\r\n  }).then(() => form.reset());\r\n});\r\n// Montant à inscrire\r\nlet selectElement = document.getElementById('classeSelect');\r\nselectElement.addEventListener('change', function () {\r\n  let selectedOption = selectElement.options[selectElement.selectedIndex];\r\n  let selectedValue = selectedOption.value;\r\n  console.log(selectedValue);\r\n\r\n  document.getElementById('montantPaye').value = montant(selectedValue);\r\n  console.log(document.getElementById('montantPaye').value);\r\n});\r\n\r\nfunction montant(classe) {\r\n  const montantMapping = {\r\n    '6ème': 25000,\r\n    '5ème': 25000,\r\n    '4ème': 30000,\r\n    '3ème': 35000,\r\n  };\r\n\r\n  return montantMapping[classe] || 0;\r\n}\r\n\r\n// Alert Après ajout\r\nconst alertPlaceholder = document.getElementById('liveAlertPlaceholder');\r\nconst appendAlert = (message, type) => {\r\n  const wrapper = document.createElement('div');\r\n  wrapper.innerHTML = [\r\n    `<div class=\"alert alert-${type} alert-dismissible\" role=\"alert\">`,\r\n    `   <div>${message}</div>`,\r\n    '   <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>',\r\n    '</div>',\r\n  ].join('');\r\n\r\n  alertPlaceholder.append(wrapper);\r\n};\r\n\r\nconst alertTrigger = document.getElementById('liveAlertBtn');\r\nif (alertTrigger) {\r\n  alertTrigger.addEventListener('click', () => {\r\n    appendAlert('Linscription est effectué avec succès', 'success');\r\n  });\r\n}\r\n// _________________________\r\n// Parti Mensualité\r\n// Mensualite\r\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(certiesRef2, (snapshot) => {\r\n  let certiesRef2 = [];\r\n  snapshot.docs.forEach((doc) => {\r\n    certiesRef2.push({ ...doc.data(), id: doc.id });\r\n    tabMens.push({ ...doc.data(), id: doc.id });\r\n  });\r\n  certiesRef2.sort((a, b) => b.dateDajout - a.dateDajout);\r\n  const list = document.querySelector('.mytbodyIns');\r\n  list.innerHTML = '';\r\n\r\n  // console.log(certiesRef2);\r\n  certiesRef2.forEach((utili) => {\r\n    const list = document.querySelector('.mytbodyIns');\r\n    const tr = document.createElement('tr');\r\n\r\n    tr.innerHTML = `\r\n    <td class=\"text-start ps-2 py-2 border border-1\">${\r\n      utili.prenom\r\n    }</td> <td class=\"text-start ps-2 py-2 border border-1\">${utili.nom}\r\n    </td> <td class=\"text-start ps-2 py-2 d-none d-sm-block border border-1\">${\r\n      utili.mois\r\n    }\r\n    </td> <td class=\"text-center py-2 border border-1\">${utili.montantpay.toLocaleString(\r\n      'en-US'\r\n    )} Fcfa</td>`;\r\n    list.appendChild(tr);\r\n    let loaderContainer = document.querySelector('.loader2');\r\n    loaderContainer.style.display = 'none';\r\n  });\r\n});\r\n\r\n// ajout d'une mensualite\r\n// Récupération de la liste des inscrits\r\nconst formMensuel = document.getElementById('formMensuel');\r\nconst nomMens = document.getElementById('nomMens');\r\nconst prenomMens = document.getElementById('prenomMens');\r\nconst prixMens = document.getElementById('prixMens');\r\nconst divNom = document.getElementById('divNom');\r\nconst divPrenom = document.getElementById('divPrenom');\r\nconst divClasse = document.getElementById('divClasse');\r\nconst divPrix = document.getElementById('divPrix');\r\nconst classeMens = document.getElementById('classeMens');\r\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(eleve, (snapshot) => {\r\n  let myTabeleve = [];\r\n  snapshot.docs.forEach((doc) => {\r\n    myTabeleve.push({ ...doc.data(), id: doc.id });\r\n  });\r\n  myTabeleve.sort((a, b) => b.dateDajout - a.dateDajout);\r\n  console.log(myTabeleve);\r\n  const mySelect = document.getElementById('listEleve');\r\n  // mySelect.innerHTML = '';\r\n  myTabeleve.forEach((eleve) => {\r\n    // console.log(eleve);\r\n    let newOption = document.createElement('option');\r\n    newOption.value = eleve.id;\r\n    newOption.innerHTML = `\r\n    ${eleve.prenom} ${eleve.nom} \r\n    `;\r\n    mySelect.appendChild(newOption);\r\n  });\r\n  formMensuel.addEventListener('input', (e) => {\r\n    // console.log(e.target.value);\r\n    myTabeleve.forEach((afficheInput) => {\r\n      if (afficheInput.id == e.target.value) {\r\n        console.log(afficheInput);\r\n        divNom.classList.remove('d-none');\r\n        divPrenom.classList.remove('d-none');\r\n        divClasse.classList.remove('d-none');\r\n        divPrix.classList.remove('d-none');\r\n        nomMens.value = `${afficheInput.nom}`;\r\n        nomMens.setAttribute('disabled', '');\r\n        prenomMens.value = `${afficheInput.prenom}`;\r\n        prenomMens.setAttribute('disabled', '');\r\n        classeMens.value = `${afficheInput.classe}`;\r\n        classeMens.setAttribute('disabled', '');\r\n        prixMens.value = montant2(`${afficheInput.classe}`);\r\n      }\r\n      const myMess = document.querySelector('.alertMens');\r\n      myMess.classList.add('d-none');\r\n    });\r\n  });\r\n  formMensuel.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)(certiesRef2, {\r\n      nom: nomMens.value,\r\n      prenom: prenomMens.value,\r\n      type: formMensuel.type.value,\r\n      classe: classeMens.value,\r\n      mois: formMensuel.mois.value,\r\n      montantpay: parseInt(prixMens.value),\r\n      dateDajout: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\r\n    }).then(() => formMensuel.reset());\r\n    const myMess = document.querySelector('.alertMens');\r\n    myMess.classList.remove('d-none');\r\n    myMess.innerHTML = 'Payement effectué avec succès...';\r\n  });\r\n});\r\n\r\n// Montant à payer\r\n\r\nclasseMens.addEventListener('change', function () {\r\n  // let selectedOption = selectElement2.options[selectElement2.selectedIndex];\r\n  let selectedValue = classeMens.value;\r\n  console.log(selectedValue);\r\n  // document.getElementById('montantAPaye').value = montant2(selectedValue);\r\n});\r\n\r\nfunction montant2(classe) {\r\n  const montantMapping = {\r\n    '6ème': 10000,\r\n    '5ème': 15000,\r\n    '4ème': 20000,\r\n    '3ème': 25000,\r\n  };\r\n\r\n  return montantMapping[classe] || 0;\r\n}\r\n// Recherche\r\nconst rechercheInput = document.querySelector('#chercheInsc');\r\nconst rechercheInput2 = document.querySelector('#chercheMens');\r\nconst valeurInscInput1 = document.getElementById('classe');\r\nconst valeurInscInput2 = document.getElementById('nomPren');\r\nconst valeurMensInput1 = document.getElementById('classe2');\r\nconst valeurMensInput2 = document.getElementById('nomPren2');\r\n// // Fonction Rechercher\r\n\r\n// Pour inscription\r\nrechercheInput.addEventListener('input', (e) => {\r\n  let valeurInput1 = '';\r\n  let valeurInput2 = '';\r\n  let collectionFilter;\r\n  if (e.target === valeurInscInput1) {\r\n    valeurInput1 = e.target.value;\r\n    // console.log('Input 1:', valeurInput1);\r\n    collectionFilter = tabInsc.filter((element) =>\r\n      element.classe.toLowerCase().includes(valeurInput1.toLowerCase())\r\n    );\r\n  } else if (e.target === valeurInscInput2) {\r\n    valeurInput2 = e.target.value;\r\n    // console.log('Input 2:', valeurInput2);\r\n    collectionFilter = tabInsc.filter(\r\n      (element) =>\r\n        element.nom.toLowerCase().includes(valeurInput2.toLowerCase()) ||\r\n        element.prenom.toLowerCase().includes(valeurInput2.toLowerCase())\r\n    );\r\n  }\r\n\r\n  const list = document.querySelector('#list');\r\n  list.innerHTML = '';\r\n  if (collectionFilter.length) {\r\n    document.getElementById('erreurRefProff').innerHTML = '';\r\n    collectionFilter.forEach((utili) => {\r\n      const tr = document.createElement('tr');\r\n\r\n      tr.innerHTML = `\r\n    <td class=\"text-start ps-2 py-2 border border-1\">${utili.prenom}</td>\r\n    <td class=\"text-start ps-2 py-2 border border-1\">${utili.nom}</td>\r\n    <td class=\"text-center py-2 border border-1\">${utili.montantInsc.toLocaleString(\r\n      'en-US'\r\n    )} Fcfa</td>`;\r\n      list.appendChild(tr);\r\n      let loaderContainer = document.querySelector('.chargement-page');\r\n      loaderContainer.style.display = 'none';\r\n    });\r\n  } else {\r\n    document.getElementById('erreurRefProff').innerHTML =\r\n      'Aucun resultat trouver';\r\n  }\r\n});\r\nrechercheInput2.addEventListener('input', (e) => {\r\n  let valeurInput1 = '';\r\n  let valeurInput2 = '';\r\n  let collectionFilter;\r\n  if (e.target === valeurMensInput1) {\r\n    valeurInput1 = e.target.value;\r\n    // console.log('Input 1:', valeurInput1);\r\n    collectionFilter = tabMens.filter((element) =>\r\n      element.classe.toLowerCase().includes(valeurInput1.toLowerCase())\r\n    );\r\n  } else if (e.target === valeurMensInput2) {\r\n    valeurInput2 = e.target.value;\r\n    // console.log('Input 2:', valeurInput2);\r\n    collectionFilter = tabMens.filter(\r\n      (element) =>\r\n        element.nom.toLowerCase().includes(valeurInput2.toLowerCase()) ||\r\n        element.prenom.toLowerCase().includes(valeurInput2.toLowerCase())\r\n    );\r\n  }\r\n\r\n  const list = document.querySelector('#list3');\r\n  list.innerHTML = '';\r\n  if (collectionFilter.length) {\r\n    document.getElementById('erreurRefProff2').innerHTML = '';\r\n    collectionFilter.forEach((utili) => {\r\n      const tr = document.createElement('tr');\r\n      tr.innerHTML = `\r\n      <td class=\"text-start ps-2 py-2 border border-1\">${\r\n        utili.prenom\r\n      }</td> <td class=\"text-start ps-2 py-2 border border-1\">${utili.nom}\r\n      </td> <td class=\"text-start ps-2 py-2 d-none d-sm-block border border-1\">${\r\n        utili.mois\r\n      }\r\n      </td> <td class=\"text-center py-2 border border-1\">${utili.montantpay.toLocaleString(\r\n        'en-US'\r\n      )} Fcfa</td>`;\r\n      list.appendChild(tr);\r\n      let loaderContainer = document.querySelector('.chargement-page');\r\n      loaderContainer.style.display = 'none';\r\n    });\r\n  } else {\r\n    document.getElementById('erreurRefProff2').innerHTML =\r\n      'Aucun resultat trouver';\r\n  }\r\n});\r\n\r\n//___________________________________________________\r\n// //partie pape cheikh\r\n\r\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(eleve, (snapshot) => {\r\n  let eleve = [];\r\n  snapshot.docs.forEach((doc) => {\r\n    eleve.push({ ...doc.data(), id: doc.id });\r\n  });\r\n  const revenue = document.getElementById('revenue');\r\n  revenue.innerHTML = '';\r\n  eleve.forEach((utili) => {\r\n    let trbody = document.createElement('tr');\r\n    trbody.innerHTML = `\r\n      <td class=\"border border-1\">${utili.dateDajout\r\n        .toDate()\r\n        .toLocaleDateString()}</td>\r\n        <td class=\"text-center\">${utili.type}</td>\r\n        <td class=\"text-center border border-1\">${utili.prenom} ${\r\n      utili.nom\r\n    }</td>\r\n        <td class=\"border border-1\">${utili.montantInsc.toLocaleString(\r\n          'en-US'\r\n        )} Fcfa</td>\r\n        `;\r\n    revenue.appendChild(trbody);\r\n    let loaderContainer = document.querySelector('.loader3');\r\n    loaderContainer.style.display = 'none';\r\n  });\r\n});\r\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(certiesRef2, (snapshot) => {\r\n  let certiesRef2 = [];\r\n  snapshot.docs.forEach((doc) => {\r\n    certiesRef2.push({ ...doc.data(), id: doc.id });\r\n  });\r\n  const mens = document.getElementById('mens');\r\n  mens.innerHTML = '';\r\n  certiesRef2.sort((a, b) => b.dateDajout - a.dateDajout);\r\n\r\n  certiesRef2.forEach((utili) => {\r\n    let trbody = document.createElement('tr');\r\n    trbody.innerHTML = `\r\n      <td class=\"border border-1\">${utili.dateDajout\r\n        .toDate()\r\n        .toLocaleDateString()}</td>\r\n        <td class=\"text-center\">${utili.type}</td>\r\n        <td class=\"text-center border border-1\">${utili.prenom} ${\r\n      utili.nom\r\n    }</td>\r\n        <td class=\"border border-1\">${utili.montantpay}Fcfa</td>\r\n        `;\r\n    mens.appendChild(trbody);\r\n\r\n    // console.log(utili.type);\r\n  });\r\n});\r\n\r\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(eleve).then((snapshot) => {\r\n  let eleve = [];\r\n  snapshot.docs.forEach((doc) => {\r\n    eleve.push({ ...doc.data(), id: doc.id });\r\n  });\r\n  let totalInscription = 0;\r\n  eleve.forEach((utili) => {\r\n    totalInscription += parseInt(utili.montantInsc);\r\n  });\r\n  console.log(totalInscription);\r\n});\r\n\r\n(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(certiesRef2).then((snapshot) => {\r\n  let certiesRef2 = [];\r\n  snapshot.docs.forEach((doc) => {\r\n    certiesRef2.push({ ...doc.data(), id: doc.id });\r\n  });\r\n  let totalCertieRef2 = 0;\r\n  certiesRef2.forEach((utili) => {\r\n    totalCertieRef2 += parseInt(utili.montantpay);\r\n  });\r\n  console.log(totalCertieRef2);\r\n});\r\n\r\n// console.log(total);\r\n\r\nfunction totalGlobal(data) {\r\n  return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(data).then((snapshot) => {\r\n    let items = [];\r\n    snapshot.docs.forEach((doc) => {\r\n      items.push({ ...doc.data(), id: doc.id });\r\n    });\r\n    return items;\r\n  });\r\n}\r\n\r\nPromise.all([totalGlobal(eleve), totalGlobal(certiesRef2)])\r\n  .then(([eleveData, certiesRef2Data]) => {\r\n    let totalInscription = eleveData.reduce(\r\n      (total, utili) => total + parseInt(utili.montantInsc),\r\n      0\r\n    );\r\n    let totalCertieRef2 = certiesRef2Data.reduce(\r\n      (total, utili) => total + parseInt(utili.montantpay),\r\n      0\r\n    );\r\n\r\n    let totaleDuRevenu = totalInscription + totalCertieRef2;\r\n\r\n    //Calcule du revenue total\r\n    function CalculDeLaSommeTotale() {\r\n      const total = document.getElementById('total');\r\n      total.innerHTML = '';\r\n      let trfoot = document.createElement('tr');\r\n      trfoot.innerHTML = `\r\n    <td colspan=\"3\"><b>Total</b></td>\r\n    <td><b>${totaleDuRevenu.toLocaleString('en-US')} Fcfa </b></td>\r\n    `;\r\n      total.appendChild(trfoot);\r\n      const revTotal = document.getElementById('revenuTotal');\r\n      revTotal.innerHTML = `${totaleDuRevenu.toLocaleString(\r\n        'en-US'\r\n      )} <span class=\"fw-bold\">FCFA</span>`;\r\n      console.log('Total global:', totaleDuRevenu);\r\n    }\r\n    CalculDeLaSommeTotale();\r\n  })\r\n  .catch((error) => {\r\n    console.error(\"Une erreur s'est produite :\", error);\r\n  });\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXNKUy9jb21wdGEuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZhbGlkYXRpb25hdGVsaWVyanMvLi9zcmMvcGFnZXNKUy9jb21wdGEuanM/MTAxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnQgdGhlIGZ1bmN0aW9ucyB5b3UgbmVlZCBmcm9tIHRoZSBTREtzIHlvdSBuZWVkXHJcbmltcG9ydCB7IGluaXRpYWxpemVBcHAsIG9uTG9nIH0gZnJvbSAnZmlyZWJhc2UvYXBwJztcclxuLy8gSW1wb3J0YXRpb24gZGVzICBzZXJ2aWNlc1xyXG5pbXBvcnQge1xyXG4gIGRvYyxcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBnZXREb2NzLFxyXG4gIGdldEZpcmVzdG9yZSxcclxuICBvblNuYXBzaG90LFxyXG4gIHNlcnZlclRpbWVzdGFtcCxcclxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG5cclxuaW1wb3J0IHtcclxuICBnZXRBdXRoLFxyXG4gIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCxcclxuICBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCxcclxuICBvbkF1dGhTdGF0ZUNoYW5nZWQsXHJcbiAgdXBkYXRlUHJvZmlsZSxcclxufSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuXHJcbi8vIFlvdXIgd2ViIGFwcCdzIEZpcmViYXNlIGNvbmZpZ3VyYXRpb25cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiAnQUl6YVN5QlEzU3JmRWltRVB0ekNGeXhSMHZXQks4QkpfSzRNYTQ4JyxcclxuICBhdXRoRG9tYWluOiAnbWl4dGUtZmVld2kuZmlyZWJhc2VhcHAuY29tJyxcclxuICBwcm9qZWN0SWQ6ICdtaXh0ZS1mZWV3aScsXHJcbiAgc3RvcmFnZUJ1Y2tldDogJ21peHRlLWZlZXdpLmFwcHNwb3QuY29tJyxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogJzEwODMyMTM0NTQzMjknLFxyXG4gIGFwcElkOiAnMToxMDgzMjEzNDU0MzI5OndlYjpkZjNkZWFmZTIyYTgyYWQzNGUzYjI4JyxcclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgRmlyZWJhc2VcclxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcblxyXG5jb25zdCBkYiA9IGdldEZpcmVzdG9yZShhcHApO1xyXG5jb25zdCBhdXRoID0gZ2V0QXV0aChhcHApO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKiAgYWZmaWNoZSBwaG90byBwcm9maWwgTmF2IGJhciAgKioqKioqKioqKioqKioqKioqKioqKi9cclxub25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XHJcbiAgaWYgKHVzZXIpIHtcclxuICAgIGNvbnNvbGUubG9nKCdVdGlsaXNhdGV1ciBjb25uZWN0w6knKTtcclxuICAgIHZhciB1c2VyRW1haWwgPSB1c2VyLmVtYWlsO1xyXG4gICAgY29uc3QgdXNlclJlZiA9IGNvbGxlY3Rpb24oZGIsICd1dGlsaXNhdGV1cnMnKTtcclxuICAgIG9uU25hcHNob3QodXNlclJlZiwgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgIGxldCB1c2VyUmVmID0gW107XHJcbiAgICAgIHNuYXBzaG90LmRvY3MuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgICAgdXNlclJlZi5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIHVzZXJSZWYuZm9yRWFjaCgodXRpbGlzYXRldXIpID0+IHtcclxuICAgICAgICAvLyBDcsOpZXogdW5lIHLDqWbDqXJlbmNlIGF1IGRvY3VtZW50IGRlIGwndXRpbGlzYXRldXIgZGFucyBGaXJlc3RvcmVcclxuICAgICAgICBjb25zdCB1c2VyRG9jUmVmID0gZG9jKGRiLCAndXRpbGlzYXRldXJzJywgdXRpbGlzYXRldXIuaWQpO1xyXG5cclxuICAgICAgICBpZiAodXRpbGlzYXRldXIuZW1haWwgPT0gdXNlckVtYWlsKSB7XHJcbiAgICAgICAgICBjb25zdCBQcm9maWxOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUHJvZmlsTmF2Jyk7XHJcbiAgICAgICAgICBjb25zdCBwcm9maWxWb2lyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbFZvaXInKTtcclxuICAgICAgICAgIGNvbnN0IG5vbVVzZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm9tVXNlcicpO1xyXG4gICAgICAgICAgY29uc3Qgc3RhdHVzVXNlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGF0dXNVc2VyJyk7XHJcbiAgICAgICAgICBQcm9maWxOYXYuc3JjID0gdXRpbGlzYXRldXIudXJsO1xyXG4gICAgICAgICAgcHJvZmlsVm9pci5zcmMgPSB1dGlsaXNhdGV1ci51cmw7XHJcbiAgICAgICAgICBub21Vc2VyLmlubmVyVGV4dCA9IHV0aWxpc2F0ZXVyLnByZW5vbSArICcgJyArIHV0aWxpc2F0ZXVyLm5vbTtcclxuICAgICAgICAgIHN0YXR1c1VzZXIuaW5uZXJUZXh0ID0gdXRpbGlzYXRldXIuc3RhdHVzO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coJ0F1Y3VuIHV0aWxpc2F0ZXVyIGNvbm5lY3TDqScpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyBSw6ljdXDDqXJlciBsYSBjb2xsZWN0aW9uXHJcbmNvbnN0IGVsZXZlID0gY29sbGVjdGlvbihkYiwgJ2luc2NTY29sYXJpdGUnKTtcclxuY29uc3QgY2VydGllc1JlZjIgPSBjb2xsZWN0aW9uKGRiLCAnbWVuc3VhbGl0ZXMnKTtcclxubGV0IHRhYkluc2MgPSBbXTtcclxubGV0IHRhYk1lbnMgPSBbXTtcclxuXHJcbm9uU25hcHNob3QoZWxldmUsIChzbmFwc2hvdCkgPT4ge1xyXG4gIGxldCBlbGV2ZSA9IFtdO1xyXG4gIHNuYXBzaG90LmRvY3MuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICBlbGV2ZS5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcclxuICAgIHRhYkluc2MucHVzaCh7IC4uLmRvYy5kYXRhKCksIGlkOiBkb2MuaWQgfSk7XHJcbiAgfSk7XHJcbiAgZWxldmUuc29ydCgoYSwgYikgPT4gYi5kYXRlRGFqb3V0IC0gYS5kYXRlRGFqb3V0KTtcclxuXHJcbiAgY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaXN0Jyk7XHJcbiAgbGlzdC5pbm5lckhUTUwgPSAnJztcclxuICAvLyBjb25zb2xlLmxvZyhlbGV2ZSk7XHJcbiAgZWxldmUuZm9yRWFjaCgodXRpbGkpID0+IHtcclxuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdCcpO1xyXG4gICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG5cclxuICAgIHRyLmlubmVySFRNTCA9IGBcclxuICAgIDx0ZCBjbGFzcz1cInRleHQtc3RhcnQgcHMtMiBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkucHJlbm9tfTwvdGQ+XHJcbiAgICA8dGQgY2xhc3M9XCJ0ZXh0LXN0YXJ0IHBzLTIgcHktMiBib3JkZXIgYm9yZGVyLTFcIj4ke3V0aWxpLm5vbX08L3RkPlxyXG4gICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXIgcHktMiBib3JkZXIgYm9yZGVyLTFcIj4ke3V0aWxpLm1vbnRhbnRJbnNjLnRvTG9jYWxlU3RyaW5nKFxyXG4gICAgICAnZW4tVVMnXHJcbiAgICApfSBGY2ZhPC90ZD5gO1xyXG4gICAgbGlzdC5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICBsZXQgbG9hZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJnZW1lbnQtcGFnZScpO1xyXG4gICAgbG9hZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gRW5yZWdpc3RyZXIgZGVzIGRvbm7DqWVzIGRhbnMgbGUgRmlyZWJhc2VcclxuXHJcbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkVG9GaXJlYmFzZScpO1xyXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIC8vQWpvdXRlciB1biBub3V2ZWF1IGRvY3VtZW50IGF2ZWMgdW4gaWQgZ8OpbsOpcsOpXHJcbiAgYWRkRG9jKGVsZXZlLCB7XHJcbiAgICBub206IGZvcm0ubm9tLnZhbHVlLFxyXG4gICAgcHJlbm9tOiBmb3JtLnByZW5vbS52YWx1ZSxcclxuICAgIHR5cGU6IGZvcm0udHlwZS52YWx1ZSxcclxuICAgIGNsYXNzZTogZm9ybS5jbGFzc2VTZWxlY3QudmFsdWUsXHJcbiAgICBtb250YW50SW5zYzogcGFyc2VJbnQoZm9ybS5tb250YW50UGF5ZS52YWx1ZSksXHJcbiAgICBkYXRlRGFqb3V0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICB9KS50aGVuKCgpID0+IGZvcm0ucmVzZXQoKSk7XHJcbn0pO1xyXG4vLyBNb250YW50IMOgIGluc2NyaXJlXHJcbmxldCBzZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsYXNzZVNlbGVjdCcpO1xyXG5zZWxlY3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICBsZXQgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3RFbGVtZW50Lm9wdGlvbnNbc2VsZWN0RWxlbWVudC5zZWxlY3RlZEluZGV4XTtcclxuICBsZXQgc2VsZWN0ZWRWYWx1ZSA9IHNlbGVjdGVkT3B0aW9uLnZhbHVlO1xyXG4gIGNvbnNvbGUubG9nKHNlbGVjdGVkVmFsdWUpO1xyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9udGFudFBheWUnKS52YWx1ZSA9IG1vbnRhbnQoc2VsZWN0ZWRWYWx1ZSk7XHJcbiAgY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRhbnRQYXllJykudmFsdWUpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIG1vbnRhbnQoY2xhc3NlKSB7XHJcbiAgY29uc3QgbW9udGFudE1hcHBpbmcgPSB7XHJcbiAgICAnNsOobWUnOiAyNTAwMCxcclxuICAgICc1w6htZSc6IDI1MDAwLFxyXG4gICAgJzTDqG1lJzogMzAwMDAsXHJcbiAgICAnM8OobWUnOiAzNTAwMCxcclxuICB9O1xyXG5cclxuICByZXR1cm4gbW9udGFudE1hcHBpbmdbY2xhc3NlXSB8fCAwO1xyXG59XHJcblxyXG4vLyBBbGVydCBBcHLDqHMgYWpvdXRcclxuY29uc3QgYWxlcnRQbGFjZWhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlQWxlcnRQbGFjZWhvbGRlcicpO1xyXG5jb25zdCBhcHBlbmRBbGVydCA9IChtZXNzYWdlLCB0eXBlKSA9PiB7XHJcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHdyYXBwZXIuaW5uZXJIVE1MID0gW1xyXG4gICAgYDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC0ke3R5cGV9IGFsZXJ0LWRpc21pc3NpYmxlXCIgcm9sZT1cImFsZXJ0XCI+YCxcclxuICAgIGAgICA8ZGl2PiR7bWVzc2FnZX08L2Rpdj5gLFxyXG4gICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuLWNsb3NlXCIgZGF0YS1icy1kaXNtaXNzPVwiYWxlcnRcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48L2J1dHRvbj4nLFxyXG4gICAgJzwvZGl2PicsXHJcbiAgXS5qb2luKCcnKTtcclxuXHJcbiAgYWxlcnRQbGFjZWhvbGRlci5hcHBlbmQod3JhcHBlcik7XHJcbn07XHJcblxyXG5jb25zdCBhbGVydFRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZUFsZXJ0QnRuJyk7XHJcbmlmIChhbGVydFRyaWdnZXIpIHtcclxuICBhbGVydFRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBhcHBlbmRBbGVydCgnTGluc2NyaXB0aW9uIGVzdCBlZmZlY3R1w6kgYXZlYyBzdWNjw6hzJywgJ3N1Y2Nlc3MnKTtcclxuICB9KTtcclxufVxyXG4vLyBfX19fX19fX19fX19fX19fX19fX19fX19fXHJcbi8vIFBhcnRpIE1lbnN1YWxpdMOpXHJcbi8vIE1lbnN1YWxpdGVcclxub25TbmFwc2hvdChjZXJ0aWVzUmVmMiwgKHNuYXBzaG90KSA9PiB7XHJcbiAgbGV0IGNlcnRpZXNSZWYyID0gW107XHJcbiAgc25hcHNob3QuZG9jcy5mb3JFYWNoKChkb2MpID0+IHtcclxuICAgIGNlcnRpZXNSZWYyLnB1c2goeyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkIH0pO1xyXG4gICAgdGFiTWVucy5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcclxuICB9KTtcclxuICBjZXJ0aWVzUmVmMi5zb3J0KChhLCBiKSA9PiBiLmRhdGVEYWpvdXQgLSBhLmRhdGVEYWpvdXQpO1xyXG4gIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXl0Ym9keUlucycpO1xyXG4gIGxpc3QuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gIC8vIGNvbnNvbGUubG9nKGNlcnRpZXNSZWYyKTtcclxuICBjZXJ0aWVzUmVmMi5mb3JFYWNoKCh1dGlsaSkgPT4ge1xyXG4gICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teXRib2R5SW5zJyk7XHJcbiAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcblxyXG4gICAgdHIuaW5uZXJIVE1MID0gYFxyXG4gICAgPHRkIGNsYXNzPVwidGV4dC1zdGFydCBwcy0yIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHtcclxuICAgICAgdXRpbGkucHJlbm9tXHJcbiAgICB9PC90ZD4gPHRkIGNsYXNzPVwidGV4dC1zdGFydCBwcy0yIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5ub219XHJcbiAgICA8L3RkPiA8dGQgY2xhc3M9XCJ0ZXh0LXN0YXJ0IHBzLTIgcHktMiBkLW5vbmUgZC1zbS1ibG9jayBib3JkZXIgYm9yZGVyLTFcIj4ke1xyXG4gICAgICB1dGlsaS5tb2lzXHJcbiAgICB9XHJcbiAgICA8L3RkPiA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkubW9udGFudHBheS50b0xvY2FsZVN0cmluZyhcclxuICAgICAgJ2VuLVVTJ1xyXG4gICAgKX0gRmNmYTwvdGQ+YDtcclxuICAgIGxpc3QuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgbGV0IGxvYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXIyJyk7XHJcbiAgICBsb2FkZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9KTtcclxufSk7XHJcblxyXG4vLyBham91dCBkJ3VuZSBtZW5zdWFsaXRlXHJcbi8vIFLDqWN1cMOpcmF0aW9uIGRlIGxhIGxpc3RlIGRlcyBpbnNjcml0c1xyXG5jb25zdCBmb3JtTWVuc3VlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtTWVuc3VlbCcpO1xyXG5jb25zdCBub21NZW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbU1lbnMnKTtcclxuY29uc3QgcHJlbm9tTWVucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVub21NZW5zJyk7XHJcbmNvbnN0IHByaXhNZW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaXhNZW5zJyk7XHJcbmNvbnN0IGRpdk5vbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZOb20nKTtcclxuY29uc3QgZGl2UHJlbm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdlByZW5vbScpO1xyXG5jb25zdCBkaXZDbGFzc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2Q2xhc3NlJyk7XHJcbmNvbnN0IGRpdlByaXggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2UHJpeCcpO1xyXG5jb25zdCBjbGFzc2VNZW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsYXNzZU1lbnMnKTtcclxub25TbmFwc2hvdChlbGV2ZSwgKHNuYXBzaG90KSA9PiB7XHJcbiAgbGV0IG15VGFiZWxldmUgPSBbXTtcclxuICBzbmFwc2hvdC5kb2NzLmZvckVhY2goKGRvYykgPT4ge1xyXG4gICAgbXlUYWJlbGV2ZS5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcclxuICB9KTtcclxuICBteVRhYmVsZXZlLnNvcnQoKGEsIGIpID0+IGIuZGF0ZURham91dCAtIGEuZGF0ZURham91dCk7XHJcbiAgY29uc29sZS5sb2cobXlUYWJlbGV2ZSk7XHJcbiAgY29uc3QgbXlTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdEVsZXZlJyk7XHJcbiAgLy8gbXlTZWxlY3QuaW5uZXJIVE1MID0gJyc7XHJcbiAgbXlUYWJlbGV2ZS5mb3JFYWNoKChlbGV2ZSkgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2coZWxldmUpO1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgbmV3T3B0aW9uLnZhbHVlID0gZWxldmUuaWQ7XHJcbiAgICBuZXdPcHRpb24uaW5uZXJIVE1MID0gYFxyXG4gICAgJHtlbGV2ZS5wcmVub219ICR7ZWxldmUubm9tfSBcclxuICAgIGA7XHJcbiAgICBteVNlbGVjdC5hcHBlbmRDaGlsZChuZXdPcHRpb24pO1xyXG4gIH0pO1xyXG4gIGZvcm1NZW5zdWVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0LnZhbHVlKTtcclxuICAgIG15VGFiZWxldmUuZm9yRWFjaCgoYWZmaWNoZUlucHV0KSA9PiB7XHJcbiAgICAgIGlmIChhZmZpY2hlSW5wdXQuaWQgPT0gZS50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhhZmZpY2hlSW5wdXQpO1xyXG4gICAgICAgIGRpdk5vbS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICBkaXZQcmVub20uY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgZGl2Q2xhc3NlLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgICAgIGRpdlByaXguY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgbm9tTWVucy52YWx1ZSA9IGAke2FmZmljaGVJbnB1dC5ub219YDtcclxuICAgICAgICBub21NZW5zLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XHJcbiAgICAgICAgcHJlbm9tTWVucy52YWx1ZSA9IGAke2FmZmljaGVJbnB1dC5wcmVub219YDtcclxuICAgICAgICBwcmVub21NZW5zLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XHJcbiAgICAgICAgY2xhc3NlTWVucy52YWx1ZSA9IGAke2FmZmljaGVJbnB1dC5jbGFzc2V9YDtcclxuICAgICAgICBjbGFzc2VNZW5zLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XHJcbiAgICAgICAgcHJpeE1lbnMudmFsdWUgPSBtb250YW50MihgJHthZmZpY2hlSW5wdXQuY2xhc3NlfWApO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IG15TWVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydE1lbnMnKTtcclxuICAgICAgbXlNZXNzLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgZm9ybU1lbnN1ZWwuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGFkZERvYyhjZXJ0aWVzUmVmMiwge1xyXG4gICAgICBub206IG5vbU1lbnMudmFsdWUsXHJcbiAgICAgIHByZW5vbTogcHJlbm9tTWVucy52YWx1ZSxcclxuICAgICAgdHlwZTogZm9ybU1lbnN1ZWwudHlwZS52YWx1ZSxcclxuICAgICAgY2xhc3NlOiBjbGFzc2VNZW5zLnZhbHVlLFxyXG4gICAgICBtb2lzOiBmb3JtTWVuc3VlbC5tb2lzLnZhbHVlLFxyXG4gICAgICBtb250YW50cGF5OiBwYXJzZUludChwcml4TWVucy52YWx1ZSksXHJcbiAgICAgIGRhdGVEYWpvdXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgfSkudGhlbigoKSA9PiBmb3JtTWVuc3VlbC5yZXNldCgpKTtcclxuICAgIGNvbnN0IG15TWVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydE1lbnMnKTtcclxuICAgIG15TWVzcy5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgIG15TWVzcy5pbm5lckhUTUwgPSAnUGF5ZW1lbnQgZWZmZWN0dcOpIGF2ZWMgc3VjY8Oocy4uLic7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gTW9udGFudCDDoCBwYXllclxyXG5cclxuY2xhc3NlTWVucy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gbGV0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0RWxlbWVudDIub3B0aW9uc1tzZWxlY3RFbGVtZW50Mi5zZWxlY3RlZEluZGV4XTtcclxuICBsZXQgc2VsZWN0ZWRWYWx1ZSA9IGNsYXNzZU1lbnMudmFsdWU7XHJcbiAgY29uc29sZS5sb2coc2VsZWN0ZWRWYWx1ZSk7XHJcbiAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRhbnRBUGF5ZScpLnZhbHVlID0gbW9udGFudDIoc2VsZWN0ZWRWYWx1ZSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gbW9udGFudDIoY2xhc3NlKSB7XHJcbiAgY29uc3QgbW9udGFudE1hcHBpbmcgPSB7XHJcbiAgICAnNsOobWUnOiAxMDAwMCxcclxuICAgICc1w6htZSc6IDE1MDAwLFxyXG4gICAgJzTDqG1lJzogMjAwMDAsXHJcbiAgICAnM8OobWUnOiAyNTAwMCxcclxuICB9O1xyXG5cclxuICByZXR1cm4gbW9udGFudE1hcHBpbmdbY2xhc3NlXSB8fCAwO1xyXG59XHJcbi8vIFJlY2hlcmNoZVxyXG5jb25zdCByZWNoZXJjaGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGVyY2hlSW5zYycpO1xyXG5jb25zdCByZWNoZXJjaGVJbnB1dDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hlcmNoZU1lbnMnKTtcclxuY29uc3QgdmFsZXVySW5zY0lucHV0MSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGFzc2UnKTtcclxuY29uc3QgdmFsZXVySW5zY0lucHV0MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub21QcmVuJyk7XHJcbmNvbnN0IHZhbGV1ck1lbnNJbnB1dDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xhc3NlMicpO1xyXG5jb25zdCB2YWxldXJNZW5zSW5wdXQyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbVByZW4yJyk7XHJcbi8vIC8vIEZvbmN0aW9uIFJlY2hlcmNoZXJcclxuXHJcbi8vIFBvdXIgaW5zY3JpcHRpb25cclxucmVjaGVyY2hlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xyXG4gIGxldCB2YWxldXJJbnB1dDEgPSAnJztcclxuICBsZXQgdmFsZXVySW5wdXQyID0gJyc7XHJcbiAgbGV0IGNvbGxlY3Rpb25GaWx0ZXI7XHJcbiAgaWYgKGUudGFyZ2V0ID09PSB2YWxldXJJbnNjSW5wdXQxKSB7XHJcbiAgICB2YWxldXJJbnB1dDEgPSBlLnRhcmdldC52YWx1ZTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdJbnB1dCAxOicsIHZhbGV1cklucHV0MSk7XHJcbiAgICBjb2xsZWN0aW9uRmlsdGVyID0gdGFiSW5zYy5maWx0ZXIoKGVsZW1lbnQpID0+XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModmFsZXVySW5wdXQxLnRvTG93ZXJDYXNlKCkpXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IHZhbGV1ckluc2NJbnB1dDIpIHtcclxuICAgIHZhbGV1cklucHV0MiA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ0lucHV0IDI6JywgdmFsZXVySW5wdXQyKTtcclxuICAgIGNvbGxlY3Rpb25GaWx0ZXIgPSB0YWJJbnNjLmZpbHRlcihcclxuICAgICAgKGVsZW1lbnQpID0+XHJcbiAgICAgICAgZWxlbWVudC5ub20udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWxldXJJbnB1dDIudG9Mb3dlckNhc2UoKSkgfHxcclxuICAgICAgICBlbGVtZW50LnByZW5vbS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbGV1cklucHV0Mi50b0xvd2VyQ2FzZSgpKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdCcpO1xyXG4gIGxpc3QuaW5uZXJIVE1MID0gJyc7XHJcbiAgaWYgKGNvbGxlY3Rpb25GaWx0ZXIubGVuZ3RoKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyZXVyUmVmUHJvZmYnKS5pbm5lckhUTUwgPSAnJztcclxuICAgIGNvbGxlY3Rpb25GaWx0ZXIuZm9yRWFjaCgodXRpbGkpID0+IHtcclxuICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG5cclxuICAgICAgdHIuaW5uZXJIVE1MID0gYFxyXG4gICAgPHRkIGNsYXNzPVwidGV4dC1zdGFydCBwcy0yIHB5LTIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5wcmVub219PC90ZD5cclxuICAgIDx0ZCBjbGFzcz1cInRleHQtc3RhcnQgcHMtMiBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkubm9tfTwvdGQ+XHJcbiAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkubW9udGFudEluc2MudG9Mb2NhbGVTdHJpbmcoXHJcbiAgICAgICdlbi1VUydcclxuICAgICl9IEZjZmE8L3RkPmA7XHJcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICBsZXQgbG9hZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJnZW1lbnQtcGFnZScpO1xyXG4gICAgICBsb2FkZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyZXVyUmVmUHJvZmYnKS5pbm5lckhUTUwgPVxyXG4gICAgICAnQXVjdW4gcmVzdWx0YXQgdHJvdXZlcic7XHJcbiAgfVxyXG59KTtcclxucmVjaGVyY2hlSW5wdXQyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuICBsZXQgdmFsZXVySW5wdXQxID0gJyc7XHJcbiAgbGV0IHZhbGV1cklucHV0MiA9ICcnO1xyXG4gIGxldCBjb2xsZWN0aW9uRmlsdGVyO1xyXG4gIGlmIChlLnRhcmdldCA9PT0gdmFsZXVyTWVuc0lucHV0MSkge1xyXG4gICAgdmFsZXVySW5wdXQxID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnSW5wdXQgMTonLCB2YWxldXJJbnB1dDEpO1xyXG4gICAgY29sbGVjdGlvbkZpbHRlciA9IHRhYk1lbnMuZmlsdGVyKChlbGVtZW50KSA9PlxyXG4gICAgICBlbGVtZW50LmNsYXNzZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbGV1cklucHV0MS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSB2YWxldXJNZW5zSW5wdXQyKSB7XHJcbiAgICB2YWxldXJJbnB1dDIgPSBlLnRhcmdldC52YWx1ZTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdJbnB1dCAyOicsIHZhbGV1cklucHV0Mik7XHJcbiAgICBjb2xsZWN0aW9uRmlsdGVyID0gdGFiTWVucy5maWx0ZXIoXHJcbiAgICAgIChlbGVtZW50KSA9PlxyXG4gICAgICAgIGVsZW1lbnQubm9tLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModmFsZXVySW5wdXQyLnRvTG93ZXJDYXNlKCkpIHx8XHJcbiAgICAgICAgZWxlbWVudC5wcmVub20udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWxldXJJbnB1dDIudG9Mb3dlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpc3QzJyk7XHJcbiAgbGlzdC5pbm5lckhUTUwgPSAnJztcclxuICBpZiAoY29sbGVjdGlvbkZpbHRlci5sZW5ndGgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJldXJSZWZQcm9mZjInKS5pbm5lckhUTUwgPSAnJztcclxuICAgIGNvbGxlY3Rpb25GaWx0ZXIuZm9yRWFjaCgodXRpbGkpID0+IHtcclxuICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgICB0ci5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDx0ZCBjbGFzcz1cInRleHQtc3RhcnQgcHMtMiBweS0yIGJvcmRlciBib3JkZXItMVwiPiR7XHJcbiAgICAgICAgdXRpbGkucHJlbm9tXHJcbiAgICAgIH08L3RkPiA8dGQgY2xhc3M9XCJ0ZXh0LXN0YXJ0IHBzLTIgcHktMiBib3JkZXIgYm9yZGVyLTFcIj4ke3V0aWxpLm5vbX1cclxuICAgICAgPC90ZD4gPHRkIGNsYXNzPVwidGV4dC1zdGFydCBwcy0yIHB5LTIgZC1ub25lIGQtc20tYmxvY2sgYm9yZGVyIGJvcmRlci0xXCI+JHtcclxuICAgICAgICB1dGlsaS5tb2lzXHJcbiAgICAgIH1cclxuICAgICAgPC90ZD4gPHRkIGNsYXNzPVwidGV4dC1jZW50ZXIgcHktMiBib3JkZXIgYm9yZGVyLTFcIj4ke3V0aWxpLm1vbnRhbnRwYXkudG9Mb2NhbGVTdHJpbmcoXHJcbiAgICAgICAgJ2VuLVVTJ1xyXG4gICAgICApfSBGY2ZhPC90ZD5gO1xyXG4gICAgICBsaXN0LmFwcGVuZENoaWxkKHRyKTtcclxuICAgICAgbGV0IGxvYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyZ2VtZW50LXBhZ2UnKTtcclxuICAgICAgbG9hZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VycmV1clJlZlByb2ZmMicpLmlubmVySFRNTCA9XHJcbiAgICAgICdBdWN1biByZXN1bHRhdCB0cm91dmVyJztcclxuICB9XHJcbn0pO1xyXG5cclxuLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuLy8gLy9wYXJ0aWUgcGFwZSBjaGVpa2hcclxuXHJcbm9uU25hcHNob3QoZWxldmUsIChzbmFwc2hvdCkgPT4ge1xyXG4gIGxldCBlbGV2ZSA9IFtdO1xyXG4gIHNuYXBzaG90LmRvY3MuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICBlbGV2ZS5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcclxuICB9KTtcclxuICBjb25zdCByZXZlbnVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JldmVudWUnKTtcclxuICByZXZlbnVlLmlubmVySFRNTCA9ICcnO1xyXG4gIGVsZXZlLmZvckVhY2goKHV0aWxpKSA9PiB7XHJcbiAgICBsZXQgdHJib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgIHRyYm9keS5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDx0ZCBjbGFzcz1cImJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkuZGF0ZURham91dFxyXG4gICAgICAgIC50b0RhdGUoKVxyXG4gICAgICAgIC50b0xvY2FsZURhdGVTdHJpbmcoKX08L3RkPlxyXG4gICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+JHt1dGlsaS50eXBlfTwvdGQ+XHJcbiAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5wcmVub219ICR7XHJcbiAgICAgIHV0aWxpLm5vbVxyXG4gICAgfTwvdGQ+XHJcbiAgICAgICAgPHRkIGNsYXNzPVwiYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5tb250YW50SW5zYy50b0xvY2FsZVN0cmluZyhcclxuICAgICAgICAgICdlbi1VUydcclxuICAgICAgICApfSBGY2ZhPC90ZD5cclxuICAgICAgICBgO1xyXG4gICAgcmV2ZW51ZS5hcHBlbmRDaGlsZCh0cmJvZHkpO1xyXG4gICAgbGV0IGxvYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXIzJyk7XHJcbiAgICBsb2FkZXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9KTtcclxufSk7XHJcbm9uU25hcHNob3QoY2VydGllc1JlZjIsIChzbmFwc2hvdCkgPT4ge1xyXG4gIGxldCBjZXJ0aWVzUmVmMiA9IFtdO1xyXG4gIHNuYXBzaG90LmRvY3MuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICBjZXJ0aWVzUmVmMi5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcclxuICB9KTtcclxuICBjb25zdCBtZW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnMnKTtcclxuICBtZW5zLmlubmVySFRNTCA9ICcnO1xyXG4gIGNlcnRpZXNSZWYyLnNvcnQoKGEsIGIpID0+IGIuZGF0ZURham91dCAtIGEuZGF0ZURham91dCk7XHJcblxyXG4gIGNlcnRpZXNSZWYyLmZvckVhY2goKHV0aWxpKSA9PiB7XHJcbiAgICBsZXQgdHJib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgIHRyYm9keS5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDx0ZCBjbGFzcz1cImJvcmRlciBib3JkZXItMVwiPiR7dXRpbGkuZGF0ZURham91dFxyXG4gICAgICAgIC50b0RhdGUoKVxyXG4gICAgICAgIC50b0xvY2FsZURhdGVTdHJpbmcoKX08L3RkPlxyXG4gICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+JHt1dGlsaS50eXBlfTwvdGQ+XHJcbiAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXIgYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5wcmVub219ICR7XHJcbiAgICAgIHV0aWxpLm5vbVxyXG4gICAgfTwvdGQ+XHJcbiAgICAgICAgPHRkIGNsYXNzPVwiYm9yZGVyIGJvcmRlci0xXCI+JHt1dGlsaS5tb250YW50cGF5fUZjZmE8L3RkPlxyXG4gICAgICAgIGA7XHJcbiAgICBtZW5zLmFwcGVuZENoaWxkKHRyYm9keSk7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2codXRpbGkudHlwZSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZ2V0RG9jcyhlbGV2ZSkudGhlbigoc25hcHNob3QpID0+IHtcclxuICBsZXQgZWxldmUgPSBbXTtcclxuICBzbmFwc2hvdC5kb2NzLmZvckVhY2goKGRvYykgPT4ge1xyXG4gICAgZWxldmUucHVzaCh7IC4uLmRvYy5kYXRhKCksIGlkOiBkb2MuaWQgfSk7XHJcbiAgfSk7XHJcbiAgbGV0IHRvdGFsSW5zY3JpcHRpb24gPSAwO1xyXG4gIGVsZXZlLmZvckVhY2goKHV0aWxpKSA9PiB7XHJcbiAgICB0b3RhbEluc2NyaXB0aW9uICs9IHBhcnNlSW50KHV0aWxpLm1vbnRhbnRJbnNjKTtcclxuICB9KTtcclxuICBjb25zb2xlLmxvZyh0b3RhbEluc2NyaXB0aW9uKTtcclxufSk7XHJcblxyXG5nZXREb2NzKGNlcnRpZXNSZWYyKS50aGVuKChzbmFwc2hvdCkgPT4ge1xyXG4gIGxldCBjZXJ0aWVzUmVmMiA9IFtdO1xyXG4gIHNuYXBzaG90LmRvY3MuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICBjZXJ0aWVzUmVmMi5wdXNoKHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCB9KTtcclxuICB9KTtcclxuICBsZXQgdG90YWxDZXJ0aWVSZWYyID0gMDtcclxuICBjZXJ0aWVzUmVmMi5mb3JFYWNoKCh1dGlsaSkgPT4ge1xyXG4gICAgdG90YWxDZXJ0aWVSZWYyICs9IHBhcnNlSW50KHV0aWxpLm1vbnRhbnRwYXkpO1xyXG4gIH0pO1xyXG4gIGNvbnNvbGUubG9nKHRvdGFsQ2VydGllUmVmMik7XHJcbn0pO1xyXG5cclxuLy8gY29uc29sZS5sb2codG90YWwpO1xyXG5cclxuZnVuY3Rpb24gdG90YWxHbG9iYWwoZGF0YSkge1xyXG4gIHJldHVybiBnZXREb2NzKGRhdGEpLnRoZW4oKHNuYXBzaG90KSA9PiB7XHJcbiAgICBsZXQgaXRlbXMgPSBbXTtcclxuICAgIHNuYXBzaG90LmRvY3MuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgIGl0ZW1zLnB1c2goeyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaXRlbXM7XHJcbiAgfSk7XHJcbn1cclxuXHJcblByb21pc2UuYWxsKFt0b3RhbEdsb2JhbChlbGV2ZSksIHRvdGFsR2xvYmFsKGNlcnRpZXNSZWYyKV0pXHJcbiAgLnRoZW4oKFtlbGV2ZURhdGEsIGNlcnRpZXNSZWYyRGF0YV0pID0+IHtcclxuICAgIGxldCB0b3RhbEluc2NyaXB0aW9uID0gZWxldmVEYXRhLnJlZHVjZShcclxuICAgICAgKHRvdGFsLCB1dGlsaSkgPT4gdG90YWwgKyBwYXJzZUludCh1dGlsaS5tb250YW50SW5zYyksXHJcbiAgICAgIDBcclxuICAgICk7XHJcbiAgICBsZXQgdG90YWxDZXJ0aWVSZWYyID0gY2VydGllc1JlZjJEYXRhLnJlZHVjZShcclxuICAgICAgKHRvdGFsLCB1dGlsaSkgPT4gdG90YWwgKyBwYXJzZUludCh1dGlsaS5tb250YW50cGF5KSxcclxuICAgICAgMFxyXG4gICAgKTtcclxuXHJcbiAgICBsZXQgdG90YWxlRHVSZXZlbnUgPSB0b3RhbEluc2NyaXB0aW9uICsgdG90YWxDZXJ0aWVSZWYyO1xyXG5cclxuICAgIC8vQ2FsY3VsZSBkdSByZXZlbnVlIHRvdGFsXHJcbiAgICBmdW5jdGlvbiBDYWxjdWxEZUxhU29tbWVUb3RhbGUoKSB7XHJcbiAgICAgIGNvbnN0IHRvdGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsJyk7XHJcbiAgICAgIHRvdGFsLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICBsZXQgdHJmb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgdHJmb290LmlubmVySFRNTCA9IGBcclxuICAgIDx0ZCBjb2xzcGFuPVwiM1wiPjxiPlRvdGFsPC9iPjwvdGQ+XHJcbiAgICA8dGQ+PGI+JHt0b3RhbGVEdVJldmVudS50b0xvY2FsZVN0cmluZygnZW4tVVMnKX0gRmNmYSA8L2I+PC90ZD5cclxuICAgIGA7XHJcbiAgICAgIHRvdGFsLmFwcGVuZENoaWxkKHRyZm9vdCk7XHJcbiAgICAgIGNvbnN0IHJldlRvdGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JldmVudVRvdGFsJyk7XHJcbiAgICAgIHJldlRvdGFsLmlubmVySFRNTCA9IGAke3RvdGFsZUR1UmV2ZW51LnRvTG9jYWxlU3RyaW5nKFxyXG4gICAgICAgICdlbi1VUydcclxuICAgICAgKX0gPHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+RkNGQTwvc3Bhbj5gO1xyXG4gICAgICBjb25zb2xlLmxvZygnVG90YWwgZ2xvYmFsOicsIHRvdGFsZUR1UmV2ZW51KTtcclxuICAgIH1cclxuICAgIENhbGN1bERlTGFTb21tZVRvdGFsZSgpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlVuZSBlcnJldXIgcydlc3QgcHJvZHVpdGUgOlwiLCBlcnJvcik7XHJcbiAgfSk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pagesJS/compta.js\n");
>>>>>>> 5417451252368b337e7525d396a5e4a1ca7a2d7b

/***/ })

}]);